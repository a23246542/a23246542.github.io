{"version":3,"sources":["api/instance.ts","api/authReq.ts","types/common.ts","redux/authScreen.slice.ts","screens/Project/hooks/useRouteType.ts","redux/entities/auth.slice.ts","api/projectReq.ts","redux/entities/project.slice.ts","api/userReq.ts","redux/entities/user.slice.ts","api/kanbanReq.ts","utils/reorder.ts","redux/entities/kanban.slice.ts","api/taskReq.ts","redux/entities/task.slice.ts","api/taskTypeReq.ts","redux/entities/taskType.slice.ts","api/epicReq.ts","redux/entities/epic.slice.ts","redux/projectListScreen.slice.ts","redux/projectScreen.slice.ts","redux/kanbanScreen.slice.ts","redux/epicScreen.slice.ts","redux/store.ts","hooks/useAuth.ts","screens/Auth/components/Login.tsx","screens/Auth/components/Register.tsx","components/ErrorBox.tsx","utils/isError.ts","hooks/useDocumentTitle.ts","screens/Auth/index.tsx","components/Pin.tsx","screens/ProjectList/hooks/useProjectDrawer.ts","components/UI/ContentContainer.tsx","components/UI/FullPageLoading.tsx","components/UI/ButtonNoPadding.tsx","components/UI/Row.tsx","components/UI/DrawerContentContainer.tsx","screens/ProjectList/components/List.tsx","components/IdSelect.tsx","screens/ProjectList/components/SearchPanel.tsx","components/UserSelect.tsx","screens/ProjectList/components/ProjectDrawer.tsx","hooks/useUrlQueryParams.ts","utils/cleanObject.ts","hooks/useDebounce.ts","screens/ProjectList/index.tsx","screens/ProjectList/hooks/useProjectSearchParams.ts","types/sort.ts","theme/colors.ts","screens/Project/index.tsx","hooks/useProjectIdInUrl.ts","screens/Kanban/components/CreateTask.tsx","screens/Kanban/hooks/useTaskModal.tsx","assets/task.svg","assets/bug.svg","screens/Kanban/components/TaskTypeIcon.tsx","components/MarkWord.tsx","screens/Kanban/hooks/useTaskSearchParams.ts","screens/Kanban/components/TaskCard.tsx","components/DragDrop.tsx","screens/Kanban/components/KanbanColumn.tsx","assets/software-logo.svg","components/TaskTypeSelect.tsx","screens/Kanban/components/SearchPanel.tsx","screens/Kanban/components/CreateKanban.tsx","components/EpicSelect.tsx","screens/Kanban/components/TaskModal.tsx","screens/Kanban/hooks/useDragEnd.ts","screens/Kanban/index.tsx","screens/Kanban/hooks/useKanbanSearchParams.ts","screens/Epic/components/CreateEpicDrawer.tsx","screens/Epic/index.tsx","components/UserPopover.tsx","components/ProjectPopover.tsx","components/Header.tsx","layouts/mainLayout.tsx","routes/AuthenticatedApp.tsx","assets/logo.svg","assets/login-left.svg","assets/login-right.svg","layouts/loginLayout.tsx","routes/UnauthenticatedApp.tsx","App.tsx","reportWebVitals.ts","provider/AuthProvider.tsx","provider/index.tsx","index.tsx"],"names":["apiUrl","process","storageAuthKey","getToken","window","localStorage","getItem","unAuthIntance","axios","create","baseURL","headers","authIntance","hasErrorResponse","err","response","interceptors","use","res","setItem","data","user","token","error","console","Promise","reject","request","config","Authorization","a","storageKey","authApi","register","post","then","login","logout","removeItem","getUserData","get","FetchState","ProjectRoute","authScreenSlice","createSlice","name","initialState","isRegister","reducers","showRegister","state","showLogin","setUnAuthError","action","message","payload","actions","switchRegisterAction","value","dispatch","clearAuthError","selectIsRegister","authScrren","selectUnAuthError","initUserState","IDLE","loginState","registerAsync","createAsyncThunk","thunkAPI","loginAsync","initUserAsync","authSlice","setUser","extraReducers","pending","type","LOADING","fulfilled","SUCCESS","rejected","FAILED","selectUser","auth","selectInitUserState","selectIsLoginLoading","selectUserError","projectApi","params","qs","stringify","id","patch","delete","projects","currentProject","mutateState","getProjectListAsync","Array","isArray","Error","getProjectAsync","editProjectAsync","addProjectAsync","deleteProjectAsync","rejectWithValue","projectSlice","setProject","clearCurrentProject","targetIndex","findIndex","project","splice","selectProjectList","selectCurrentProject","selectIsProjectLoading","selectIsMutateProjectLoading","userApi","users","getUserListAsync","condition","_","getState","length","userSlice","selectUsers","kanbanApi","reorder","fromId","referenceId","list","copiedList","movingItemIndex","item","insertAfter","insertBefore","from","to","toItem","removedItem","toIndex","indexOf","kanbans","preKanbans","getKanbanListAsync","addKanbanAsync","deleteKanbanAsync","success","reorderKanbanAsync","kanbanSlice","setKanbanList","setPreKanbanList","newKanbanInput","meta","arg","push","pop","kanban","selectKanbans","selectKanbanFetchLoading","selectMutateLoading","taskApi","tasks","currentTask","preTasks","deleteState","currentTaskState","taskProjectId","fetchingTasksProjectId","getTaskListAsync","task","getPendingMeta","requestId","extra","projectId","getTaskAsync","addTaskAsync","editTaskAsync","deleteTaskAsync","reorderTaskAsync","taskSlice","setTaskList","setPreTaskList","newTaskInput","forEach","index","selectTasks","selectCurrentTask","selectCurrentTaskState","selectTaskFetchLoading","selectTaskMutateState","selectTaskDeleteState","taskTypeApi","taskTypes","getTaskTypeListAsync","taskType","taskTypeSlice","selectTaskTypes","epicApi","epics","getEpicListAsync","addEpicAsync","deleteEpicAsync","epicSlice","epic","selectEpicList","selectEpicMutateLoading","projectModalOpen","editingProject","getEditProjectAsync","projectListScreenSlice","openProjectModal","closeProjectModal","clearEditProject","projectListScreenActions","selectProjectModalOpen","projectListScreen","selectEditProject","selectEditProjectState","projectScreenSlice","kanbanScreenSlice","selectIsKanbanInitLoading","epicScreenSlice","rootReducer","reducer","projectScreen","kanbanScreen","epicScreen","store","configureStore","useAppDispatch","useDispatch","useAuth","useSelector","isLoginLoading","useCallback","form","cpassword","password","unwrap","Login","onFinish","Item","rules","required","placeholder","autoComplete","LongButton","htmlType","loading","styled","Button","Register","ErrorBox","Text","useDocumentTitle","title","keepOnUnmounted","oldTitle","useRef","document","current","useEffect","AuthScreen","authError","unAuthError","Title","onClick","h2","Pin","checked","onCheckChange","restProps","count","onChange","num","useProjectDrawer","isOpen","editingProjectState","isMutateProjectLoading","startEdit","open","close","isLoading","isMutateLoading","ContentContainer","div","FullPage","FullPageLoading","size","ButtonNoPadding","Row","props","between","undefined","marginBottom","gap","DrawerContentContainer","List","dataSource","rowKey","columns","disabled","render","pin","sorter","b","localeCompare","dataIndex","find","personId","created","dayjs","format","pagination","More","overlay","IdSelect","options","defaultOptionName","numberValue","toNumber","Option","map","option","isNaN","Number","SearchPanel","setParams","css","layout","e","target","trim","maxLength","UserSelect","ProjectDrawer","Form","useForm","setFieldsValue","visible","onClose","resetFields","forceRender","width","style","label","textAlign","useUrlQueryParams","keys","useSearchParams","searchParams","setSearchParams","useState","querykeys","paramsObj","useMemo","reduce","pre","key","Object","fromEntries","updateParams","object","entries","filter","useDebounce","delay","debounceValue","setDebounceValue","timeout","setTimeout","clearTimeout","ProjectListScreen","useProjectSearchParams","debounceProjectParams","projectList","isProjectLoading","resultAction","abort","whyDidYouRender","TypeId","colors","primary","gray","ProjectScreen","routeType","resolver","useResolvedPath","matchKanban","useMatch","pathname","KANBAN","matchEpic","EPIC","useRouteType","Container","Aside","selectedKeys","Main","aside","useProjectIdInUrl","useParams","CreateTask","kanbanId","setName","inputMode","setInputMode","handleToggleInput","autoFocus","onBlur","evt","onPressEnter","typeId","catch","StyleAddTask","useTaskModal","editingTaskId","editingTask","startEditTask","mutateLoading","deleteLoading","TaskTypeIcon","svgIcon","taskIcon","bugIcon","alt","src","MarkWord","keyword","wordAry","split","str","color","useTaskSearchParams","processorId","TaskCard","StyleCard","ellipsis","Card","Drop","children","provided","React","isValidElement","cloneElement","droppableProps","ref","innerRef","DropChild","forwardRef","Drag","draggableProps","dragHandleProps","DragChild","_defs","_g","KanbanColumn","KanbanContainer","KanbanTitle","StyleBadge","offset","TasksContainer","ROW","droppableId","direction","minHeight","draggableId","Modal","confirm","okText","cancelText","onOk","Badge","TaskTypeSelect","updateTaskParams","userId","taskTypeId","CreateKanban","EpicSelect","epicList","formLayout","labelCol","span","wrapperCol","TaskModal","handleClose","onCancel","getFieldsValue","confirmLoading","useDragEnd","kanbanList","taskList","source","destination","COLUMN","toId","sortType","oldList","newList","fromKanbanId","toKanbanId","fromTask","toKanbanTasks","toTask","reorderTaskActionAsync","KanbanScreen","isKanbanFetchLoading","isTaskFetchLoading","isKanbanInitLoading","kanbanParams","useKanbanSearchParams","taskParams","debounceTaskParams","onDragEnd","isKanbanLoading","StyleSpin","ColumnsContainer","display","Spin","CreateEpicDrawer","start","Date","getTime","end","EpicScreen","isCreateEpicOpen","setIsCreateEpicOpen","renderItem","Meta","level","epicId","description","itemLayout","overflowY","flex","_extends","assign","i","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSoftwareLogo","_ref","svgRef","titleId","viewBox","xmlns","focusable","className","x1","y1","x2","y2","stopColor","stroke","strokeWidth","fillRule","d","fill","ForwardRef","UserPopover","userList","content","placement","ProjectPopover","pinProjectList","AuthHeader","navigate","useNavigate","HeaderContentContainer","HeaderLeft","cursor","HeaderRight","User","preventDefault","MainLayout","location","useLocation","scrollTo","top","Header","headerHeight","header","main","routes","path","element","replace","RouteView","useRoutes","LoginLayout","Background","ShadowCard","logo","LeftBg","RightBg","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AuthProvider","AppProvider","loadServer","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb287c07.chunk.js","sourcesContent":["import axios, { AxiosResponse, AxiosError } from 'axios';\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport const storageAuthKey = '__auth_provider_token__';\n\nexport const getToken = () =>\n  window.localStorage.getItem(storageAuthKey);\n\nconst handleUserResponse = (res: AxiosResponse) => {\n  window.localStorage.setItem(\n    storageAuthKey,\n    res.data.user.token || '',\n  );\n  return res;\n};\n\nexport const unAuthIntance = axios.create({\n  baseURL: apiUrl,\n  headers: { 'content-Type': 'application/json' },\n});\n\nexport const authIntance = axios.create({\n  baseURL: apiUrl,\n});\n\nconst hasErrorResponse = (\n  err: any,\n): err is AxiosError<{ status: number; message: string }> =>\n  err?.response;\n\nunAuthIntance.interceptors.response.use(\n  (response) => {\n    return handleUserResponse(response);\n  },\n  (error) => {\n    console.error('unAuthIntance api error', error);\n    if (hasErrorResponse(error)) {\n      return Promise.reject(error.response?.data);\n    }\n    return Promise.reject(error);\n  },\n);\n\nauthIntance.interceptors.request.use(\n  (config) => {\n    const token = getToken();\n    config.headers = {\n      Authorization: token ? `Bearer ${token}` : '',\n      'content-Type': 'application/json',\n    };\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\n\nauthIntance.interceptors.response.use(\n  async (response) => {\n    return response;\n  },\n  (error) => {\n    console.error('authIntance api error', error);\n    if (hasErrorResponse(error)) {\n      return Promise.reject(error.response?.data);\n    }\n    return Promise.reject(error);\n  },\n);\n","import axios from 'axios';\nimport {\n  unAuthIntance,\n  authIntance,\n  storageAuthKey,\n} from './instance';\nimport { AuthForm } from 'types/common';\n\nexport const authApi = {\n  register: async (data: AuthForm) => {\n    return await unAuthIntance\n      .post('/register', data)\n      .then(async (res) => {\n        // await convertStorage();\n        // window.location.reload();\n        return res;\n      });\n  },\n  login: async (data: AuthForm) =>\n    await unAuthIntance.post('/login', data),\n  logout: async () => {\n    window.localStorage.removeItem(storageAuthKey);\n  },\n  getUserData: async () => {\n    try {\n      return await authIntance.get(`/me`);\n    } catch (error) {\n      window.localStorage.removeItem(storageAuthKey);\n      return Promise.reject(error);\n    }\n  },\n};\n\nenum storageKey {\n  PROJECT = '__jira__project',\n  USER = '__jira__user',\n  KANBAN = '__jira__kanban',\n  TASK = '__jira__task',\n  EPIC = '__jira__epic',\n}\n\nconst convertStorage = async () => {\n  await Promise.all(\n    Object.entries(storageKey).map(\n      async ([_, storageKey]) =>\n        await axios\n          .post('https://api.zhconvert.org/convert', {\n            text: localStorage.getItem(storageKey),\n            converter: 'Traditional',\n          })\n          .then((res) => {\n            localStorage.setItem(storageKey, res.data.data.text);\n            return `更新${storageKey}成功`;\n          }),\n    ),\n  );\n};\n","export enum FetchState {\n  IDLE = 'IDLE',\n  LOADING = 'LOADING',\n  SUCCESS = 'SUCCESS',\n  FAILED = 'FAILED',\n}\n\nexport type AuthForm = {\n  username: string;\n  password: string;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { AppDispatch, RootState } from './store';\nimport { clearAuthError } from 'redux/entities/auth.slice';\n\ninterface AuthScreenSliceState {\n  isRegister: boolean;\n  error: null | {\n    message: string;\n  };\n}\n\nconst initialState: AuthScreenSliceState = {\n  isRegister: false,\n  error: null,\n};\n\nexport const authScreenSlice = createSlice({\n  name: 'authScreen',\n  initialState,\n  reducers: {\n    showRegister(state) {\n      state.isRegister = true;\n      state.error = null;\n    },\n    showLogin(state) {\n      state.isRegister = false;\n      state.error = null;\n    },\n    setUnAuthError(state, action) {\n      state.error = { message: action.payload };\n    },\n  },\n});\n\nexport const { showRegister, showLogin, setUnAuthError } =\n  authScreenSlice.actions;\n\nexport const switchRegisterAction =\n  (value: boolean) => (dispatch: AppDispatch) => {\n    if (value) {\n      dispatch(showRegister());\n    } else {\n      dispatch(showLogin());\n    }\n\n    dispatch(clearAuthError());\n  };\n\nexport const selectIsRegister = (state: RootState) =>\n  state.authScrren.isRegister;\n\nexport const selectUnAuthError = (state: RootState) =>\n  state.authScrren.error;\n","import { useMatch, useResolvedPath } from 'react-router-dom';\n\nenum ProjectRoute {\n  KANBAN = 'kanban',\n  EPIC = 'epic',\n}\n\nexport const useRouteType = () => {\n  const resolver = useResolvedPath('');\n\n  const matchKanban = useMatch(\n    `${resolver.pathname}/${ProjectRoute.KANBAN}`,\n  );\n  const matchEpic = useMatch(\n    `${resolver.pathname}/${ProjectRoute.EPIC}`,\n  );\n\n  if (!!matchKanban) return ProjectRoute.KANBAN;\n\n  if (!!matchEpic) return ProjectRoute.EPIC;\n\n  return ProjectRoute.KANBAN;\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport type { IUser } from 'types/user';\nimport type { RootState, AppDispatch } from 'redux/store';\nimport { authApi } from 'api/authReq';\nimport { getToken } from 'api/instance';\n\nimport { FetchState, AuthForm } from 'types/common';\nimport { showLogin } from 'redux/authScreen.slice';\n\ninterface AuthSliceState {\n  user: IUser | null;\n  initUserState: FetchState;\n  loginState: FetchState;\n  error: Error | null;\n}\n\nconst initialState: AuthSliceState = {\n  user: null,\n  initUserState: FetchState.IDLE,\n  loginState: FetchState.IDLE,\n  error: null,\n};\n\nexport const registerAsync = createAsyncThunk(\n  'auth/register',\n  async (data: AuthForm, thunkAPI) => {\n    const res = await authApi.register(data);\n    return res.data.user;\n  },\n);\n\nexport const loginAsync = createAsyncThunk(\n  'auth/login',\n  async (data: AuthForm) => {\n    const res = await authApi.login(data);\n    return res.data.user;\n  },\n);\n\nexport const initUserAsync = createAsyncThunk(\n  'auth/initUser',\n  async () => {\n    let user = null;\n    const token = getToken();\n    if (token) {\n      const res = await authApi.getUserData();\n      user = res.data.user;\n    }\n    return user;\n  },\n);\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    // logout\n    setUser(state, action) {\n      state.user = action.payload;\n    },\n    clearAuthError(state) {\n      state.error = null;\n    },\n  },\n  extraReducers: {\n    [registerAsync.pending.type]: (state) => {\n      state.loginState = FetchState.LOADING;\n    },\n    [registerAsync.fulfilled.type]: (state, action) => {\n      state.loginState = FetchState.SUCCESS;\n      state.user = action.payload;\n      state.error = null;\n    },\n    [registerAsync.rejected.type]: (state, action) => {\n      state.loginState = FetchState.FAILED;\n      state.user = null;\n      state.error = action.error;\n    },\n    [loginAsync.pending.type]: (state, action) => {\n      state.loginState = FetchState.LOADING;\n    },\n    [loginAsync.fulfilled.type]: (state, action) => {\n      state.loginState = FetchState.SUCCESS;\n      state.user = action.payload;\n      state.error = null;\n    },\n    [loginAsync.rejected.type]: (state, action) => {\n      state.loginState = FetchState.FAILED;\n      state.user = null;\n      state.error = action.error;\n    },\n    [initUserAsync.pending.type]: (state, action) => {\n      state.initUserState = FetchState.LOADING;\n    },\n    [initUserAsync.fulfilled.type]: (state, action) => {\n      state.initUserState = FetchState.SUCCESS;\n      state.user = action.payload;\n      state.error = null;\n    },\n    [initUserAsync.rejected.type]: (state, action) => {\n      state.initUserState = FetchState.FAILED;\n      state.user = null;\n      state.error = action.error;\n    },\n  },\n});\n\nexport const { setUser, clearAuthError } = authSlice.actions;\n\nexport const logoutAction = () => (dispatch: AppDispatch) =>\n  authApi.logout().then(() => {\n    dispatch(setUser(null));\n    dispatch(showLogin());\n  });\n\nexport const selectUser = (state: RootState) => state.auth.user;\nexport const selectInitUserState = (state: RootState) =>\n  state.auth.initUserState;\nexport const selectIsLoginLoading = (state: RootState) =>\n  state.auth.loginState === FetchState.LOADING;\nexport const selectUserError = (state: RootState) => state.auth.error;\n","import axios, { AxiosResponse } from 'axios';\nimport { authIntance } from './instance';\nimport qs from 'qs';\nimport { IProject } from 'types/project';\n\ntype GetProjectsResponse = Array<IProject>;\n\ntype GetProjectResponse = IProject;\n\ntype createProjectResponse = IProject;\n\ntype updateProjectResponse = IProject;\n\ntype DeleteProjectResponse = {\n  success: boolean;\n};\n\nexport type createProjectInput = Pick<\n  IProject,\n  'name' | 'organization' | 'personId'\n>;\n\nexport type updateProjectInput = Partial<IProject> & { id: number };\n\nexport const projectApi = {\n  getProjects: (\n    params?: Partial<IProject>,\n  ): Promise<AxiosResponse<GetProjectResponse>> => {\n    return authIntance.get(`/projects?${qs.stringify(params)}`);\n  },\n  getProject: (\n    id: number,\n  ): Promise<AxiosResponse<GetProjectResponse>> => {\n    return authIntance.get(`/projects/${id}`);\n  },\n  createProject: (\n    params: createProjectInput,\n  ): Promise<AxiosResponse<createProjectResponse>> => {\n    return authIntance.post(`/projects`, params);\n  },\n  updateProject: (\n    params: updateProjectInput,\n  ): Promise<AxiosResponse<updateProjectResponse>> => {\n    return authIntance.patch(`/projects/${params.id}`, params);\n  },\n  deleteProject: (\n    id: number,\n  ): Promise<AxiosResponse<DeleteProjectResponse>> => {\n    return authIntance.delete(`/projects/${id}`);\n  },\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { projectApi } from 'api/projectReq';\n\nimport { FetchState } from 'types/common';\nimport { IProject } from 'types/project';\nimport { RootState } from 'redux/store';\nimport {\n  createProjectInput,\n  updateProjectInput,\n} from 'api/projectReq';\n\ninterface ProjectSliceState {\n  projects: Array<IProject>;\n  currentProject: IProject | null;\n  state: FetchState;\n  mutateState: FetchState;\n  error: Error | null;\n}\n\nconst initialState: ProjectSliceState = {\n  projects: [],\n  currentProject: null,\n  state: FetchState.IDLE,\n  mutateState: FetchState.IDLE,\n  error: null,\n};\n\nexport const getProjectListAsync = createAsyncThunk(\n  'project/getProjectListAsync',\n  async (params?: Partial<IProject>) => {\n    const res = await projectApi.getProjects(params);\n\n    if (!Array.isArray(res.data)) {\n      return Promise.reject(new Error('get project資料回傳非陣列'));\n    }\n    return res.data;\n  },\n);\n\nexport const getProjectAsync = createAsyncThunk(\n  'project/getProjectAsync',\n  async (id: number) => {\n    const res = await projectApi.getProject(id);\n    return res.data;\n  },\n);\n\nexport const editProjectAsync = createAsyncThunk(\n  'project/editProjectAsync',\n  async (params: updateProjectInput) => {\n    const res = await projectApi.updateProject(params);\n    return res.data;\n  },\n);\n\nexport const addProjectAsync = createAsyncThunk(\n  'project/addProjectAsync',\n  async (params: createProjectInput, thunkAPI) => {\n    const res = await projectApi.createProject(params);\n    thunkAPI.dispatch(getProjectListAsync());\n  },\n);\n\nexport const deleteProjectAsync = createAsyncThunk(\n  'project/deleteProjectAsync',\n  async (id: number, { rejectWithValue }) => {\n    await projectApi.deleteProject(id);\n    return { id };\n  },\n);\n\nexport const projectSlice = createSlice({\n  name: 'project',\n  initialState,\n  reducers: {\n    setProject(state, action) {\n      state.projects = action.payload;\n    },\n    clearCurrentProject(state) {\n      state.currentProject = null;\n    },\n  },\n  extraReducers: {\n    [getProjectListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [getProjectListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('project payload 錯誤');\n      }\n      state.projects = action.payload;\n      state.error = null;\n    },\n    [getProjectListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      // state.projects = [];\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [getProjectAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [getProjectAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      state.currentProject = action.payload;\n      state.error = null;\n    },\n    [getProjectAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [editProjectAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [editProjectAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      const targetIndex = state.projects.findIndex(\n        (project) => project.id === action.payload.id,\n      );\n      state.projects[targetIndex] = action.payload;\n      state.error = null;\n    },\n    [editProjectAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [addProjectAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [addProjectAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      state.error = null;\n    },\n    [addProjectAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [deleteProjectAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [deleteProjectAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      const targetIndex = state.projects.findIndex(\n        (project) => project.id === action.payload.id,\n      );\n      state.projects.splice(targetIndex, 1);\n      state.error = null;\n    },\n    [deleteProjectAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const projectActions = projectSlice.actions;\n\nexport const selectProjectList = (state: RootState) =>\n  state.project.projects;\n\nexport const selectCurrentProject = (state: RootState) =>\n  state.project.currentProject;\n\nexport const selectIsProjectLoading = (state: RootState) =>\n  state.project.state === FetchState.LOADING;\n\nexport const selectIsMutateProjectLoading = (state: RootState) =>\n  state.project.state === FetchState.LOADING;\n","import qs from 'qs';\nimport { authIntance } from './instance';\nimport { IUser } from 'types/user';\n\nexport const userApi = {\n  getUsers: (params?: Partial<IUser>) => {\n    return authIntance.get(`/users?${qs.stringify(params)}`);\n  },\n};\n","import {\n  createSlice,\n  createAsyncThunk,\n  AsyncThunkPayloadCreator,\n  AsyncThunk,\n} from '@reduxjs/toolkit';\n\nimport { userApi } from 'api/userReq';\n\nimport { IUser } from 'types/user';\nimport { FetchState } from 'types/common';\nimport { RootState } from 'redux/store';\n\ninterface UserSliceState {\n  users: Array<IUser>;\n  state: FetchState;\n  error: Error | null;\n}\n\nconst initialState: UserSliceState = {\n  users: [],\n  state: FetchState.IDLE,\n  error: null,\n};\n\nexport const getUserListAsync = createAsyncThunk(\n  'project/getUserListAsync',\n  async (params: Partial<IUser> | undefined, thunkAPI) => {\n    const res = await userApi.getUsers(params);\n    return res.data;\n  },\n  {\n    condition: (_, { getState }) => {\n      const { user } = getState() as RootState;\n      if (\n        user.state === FetchState.LOADING ||\n        user.state === FetchState.SUCCESS\n      ) {\n        return false;\n      }\n      if (user.users.length > 0) {\n        return false;\n      }\n    },\n  },\n);\n\nexport const userSlice = createSlice({\n  name: 'project',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getUserListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n    },\n    [getUserListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('user payload 錯誤');\n      }\n      state.users = action.payload;\n      state.error = null;\n    },\n    [getUserListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      state.users = [];\n      // state.error = action.error;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const selectUsers = (state: RootState) => state.user.users;\n","import { AxiosResponse } from 'axios';\nimport { authIntance } from './instance';\nimport qs from 'qs';\nimport { IKanban } from 'types/kanban';\nimport { KanbanSortProps } from 'types/sort';\n\ntype GetKanbansResponse = Array<IKanban>;\n\ntype createKanbanResponse = IKanban;\n\ntype reorderKanbanResponse = Array<IKanban>;\n\ntype DeleteKanbanResponse = {\n  success: boolean;\n};\n\nexport type GetKanbanListInput = Partial<IKanban> &\n  Pick<IKanban, 'projectId'>;\n\nexport type CreateKanbanInput = Partial<IKanban> &\n  Pick<IKanban, 'projectId' | 'name'>;\n\nexport type RecordKanbanInput = KanbanSortProps;\n\nexport const kanbanApi = {\n  getKanbans: (\n    params?: GetKanbanListInput,\n  ): Promise<AxiosResponse<GetKanbansResponse>> => {\n    return authIntance.get(`/kanbans?${qs.stringify(params)}`);\n  },\n  createKanban: (\n    params: CreateKanbanInput,\n  ): Promise<AxiosResponse<createKanbanResponse>> => {\n    return authIntance.post('/kanbans', params);\n  },\n  deleteKanban: (\n    id: number,\n  ): Promise<AxiosResponse<DeleteKanbanResponse>> => {\n    return authIntance.delete(`/kanbans/${id}`);\n  },\n  reorderKanban: (\n    params: RecordKanbanInput,\n  ): Promise<AxiosResponse<reorderKanbanResponse>> => {\n    return authIntance.post('/kanbans/reorder', params);\n  },\n};\n","/**\n * 對本地排序進行樂觀更新\n * @param fromId 要排序的項目id\n * @param type 'before' | 'after'\n * @param referenceId 目標參照id\n * @param list 要排序的列表, 比如tasks, kanbans\n */\nexport const reorder = ({\n  fromId,\n  type,\n  referenceId,\n  list,\n}: {\n  list: { id: number }[];\n  fromId: number;\n  type: 'after' | 'before';\n  referenceId?: number;\n}) => {\n  const copiedList = [...list];\n  // 找到fromId對應項目的索引\n  const movingItemIndex = copiedList.findIndex(\n    (item) => item.id === fromId,\n  );\n  if (!referenceId) {\n    return insertAfter(\n      [...copiedList],\n      movingItemIndex,\n      copiedList.length - 1,\n    );\n  }\n  const targetIndex = copiedList.findIndex(\n    (item) => item.id === referenceId,\n  );\n  const insert = type === 'after' ? insertAfter : insertBefore;\n  return insert([...copiedList], movingItemIndex, targetIndex);\n};\n\n/**\n * 在list中，把from放在to的前面\n * @param list\n * @param from\n * @param to\n */\nconst insertBefore = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex, 0, removedItem);\n  return list;\n};\n\n/**\n * 在list中，把from放在to的後面\n * @param list\n * @param from\n * @param to\n */\nconst insertAfter = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex + 1, 0, removedItem);\n  return list;\n};\n","import {\n  createSlice,\n  createAsyncThunk,\n  PayloadAction,\n} from '@reduxjs/toolkit';\n\nimport {\n  kanbanApi,\n  CreateKanbanInput,\n  GetKanbanListInput,\n} from 'api/kanbanReq';\nimport { FetchState } from 'types/common';\nimport { RootState, AppDispatch } from 'redux/store';\nimport { IKanban } from 'types/kanban';\nimport { KanbanSortProps } from 'types/sort';\nimport { reorder } from 'utils/reorder';\n\ninterface KanbanSliceState {\n  kanbans: Array<IKanban | CreateKanbanInput>;\n  preKanbans: Array<IKanban | CreateKanbanInput>;\n  state: FetchState;\n  mutateState: FetchState;\n  error: Error | null;\n}\n\nconst initialState: KanbanSliceState = {\n  kanbans: [],\n  preKanbans: [],\n  state: FetchState.IDLE,\n  mutateState: FetchState.IDLE,\n  error: null,\n};\n\nexport const getKanbanListAsync = createAsyncThunk(\n  'kanban/getKanbanListAsync',\n  async (params: GetKanbanListInput, thunkAPI) => {\n    const res = await kanbanApi.getKanbans(params);\n    return res.data;\n  },\n);\n\nexport const addKanbanAsync = createAsyncThunk(\n  'kanban/addKanbanAsync',\n  async (params: CreateKanbanInput, { dispatch, getState }) => {\n    const res = await kanbanApi.createKanban(params);\n    return res.data;\n  },\n);\n\nexport const deleteKanbanAsync = createAsyncThunk(\n  'kanban/deleteKanban',\n  async (id: number, { dispatch, getState }) => {\n    const res = await kanbanApi.deleteKanban(id);\n    if (!res.data.success) {\n      return Promise.reject('伺服器存取錯誤');\n    }\n    return res.data;\n  },\n);\n\nexport const reorderKanbanAsync = createAsyncThunk(\n  'kanban/reorderKanban',\n  async (params: KanbanSortProps, { dispatch, getState }) => {\n    await kanbanApi.reorderKanban(params);\n  },\n);\n\nexport const kanbanSlice = createSlice({\n  name: 'kanban',\n  initialState,\n  reducers: {\n    setKanbanList: (\n      state,\n      action: PayloadAction<Array<IKanban | CreateKanbanInput>>,\n    ) => {\n      state.kanbans = action.payload;\n    },\n    setPreKanbanList: (\n      state,\n      action: PayloadAction<Array<IKanban | CreateKanbanInput>>,\n    ) => {\n      state.preKanbans = action.payload;\n    },\n  },\n  extraReducers: {\n    [getKanbanListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [getKanbanListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('kanbans payload 錯誤');\n      }\n      state.kanbans = action.payload;\n      state.error = null;\n    },\n    [getKanbanListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      // state.kanbans = [];\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [addKanbanAsync.pending.type]: (state, action) => {\n      const { arg: newKanbanInput }: { arg: CreateKanbanInput } =\n        action.meta;\n      state.kanbans.push(newKanbanInput);\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [addKanbanAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      state.kanbans.splice(\n        state.kanbans.length - 1,\n        1,\n        action.payload,\n      );\n      state.preKanbans = [];\n      state.error = null;\n    },\n    [addKanbanAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      // state.kanbans = state.preKanbans; //失效\n      state.kanbans.pop();\n      // state.preKanbans = [];\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [deleteKanbanAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [deleteKanbanAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      const { arg: id } = action.meta;\n      const targetIndex = state.kanbans.findIndex(\n        (kanban) => kanban.id === id,\n      );\n      state.kanbans.splice(targetIndex, 1);\n      state.error = null;\n    },\n    [deleteKanbanAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [reorderKanbanAsync.pending.type]: (state, action) => {\n      // state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [reorderKanbanAsync.fulfilled.type]: (state, action) => {\n      // state.mutateState = FetchState.SUCCESS;\n      // state.kanbans = action.payload;\n      state.error = null;\n    },\n    [reorderKanbanAsync.rejected.type]: (state, action) => {\n      // state.mutateState = FetchState.FAILED;\n      state.kanbans = state.preKanbans;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const { setKanbanList, setPreKanbanList } =\n  kanbanSlice.actions;\n\nexport const reorderKanbanActionAsync =\n  (params: KanbanSortProps) =>\n  (dispatch: AppDispatch, getState: () => RootState) => {\n    const oldList = getState().kanban.kanbans as Array<IKanban>;\n    const newList = reorder({\n      list: oldList,\n      ...params,\n    }) as Array<IKanban>;\n    dispatch(setKanbanList(newList));\n    dispatch(setPreKanbanList(oldList));\n    dispatch(reorderKanbanAsync(params));\n  };\nexport const selectKanbans = (state: RootState) =>\n  state.kanban.kanbans;\n\nexport const selectKanbanFetchLoading = (state: RootState) =>\n  state.kanban.state === FetchState.LOADING;\n\nexport const selectMutateLoading = (state: RootState) =>\n  state.kanban.mutateState === FetchState.LOADING;\n","import { AxiosResponse } from 'axios';\nimport { authIntance } from './instance';\nimport qs from 'qs';\nimport { ITask } from 'types/task';\nimport { cleanObject } from 'utils/cleanObject';\nimport { TaskSortProps } from 'types/sort';\n\ntype GetTasksResponse = Array<ITask>;\n\ntype GetTaskResponse = Partial<ITask>;\n\ntype createTaskResponse = ITask;\n\ntype updateTaskResponse = ITask;\n\ntype DeleteTaskResponse = {\n  success: boolean;\n};\n\ntype reorderTaskResponse = Array<ITask>;\n\nexport type GetTaskListInput = Partial<ITask> &\n  Pick<ITask, 'projectId'>;\n\nexport type CreateTaskInput = Partial<ITask> &\n  Pick<ITask, 'projectId' | 'kanbanId' | 'name' | 'typeId'>;\n\nexport type UpdateTaskInput = Partial<ITask> & Pick<ITask, 'id'>;\n\nexport type reorderTaskInput = TaskSortProps;\n\nexport const taskApi = {\n  getTasks: (\n    params: GetTaskListInput,\n  ): Promise<AxiosResponse<GetTasksResponse>> => {\n    return authIntance.get(`/tasks?${qs.stringify(params)}`);\n  },\n  getTask: (id: number): Promise<AxiosResponse<GetTaskResponse>> => {\n    return authIntance.get(`tasks/${id}`);\n  },\n  createTask: (\n    params: CreateTaskInput,\n  ): Promise<AxiosResponse<createTaskResponse>> => {\n    return authIntance.post('/tasks', params);\n  },\n  updateTask: (\n    params: UpdateTaskInput,\n  ): Promise<AxiosResponse<updateTaskResponse>> => {\n    return authIntance.patch(`/tasks/${params.id}`, params);\n  },\n  deleteTask: (\n    id: number,\n  ): Promise<AxiosResponse<DeleteTaskResponse>> => {\n    return authIntance.delete(`/tasks/${id}`);\n  },\n  reorderTask: (\n    params: reorderTaskInput,\n  ): Promise<AxiosResponse<reorderTaskResponse>> => {\n    return authIntance.post('/tasks/reorder', params);\n  },\n};\n","import {\n  createSlice,\n  createAsyncThunk,\n  PayloadAction,\n} from '@reduxjs/toolkit';\n\nimport {\n  CreateTaskInput,\n  GetTaskListInput,\n  taskApi,\n  UpdateTaskInput,\n} from 'api/taskReq';\nimport { FetchState } from 'types/common';\nimport { RootState, AppDispatch } from 'redux/store';\nimport { ITask } from 'types/task';\nimport { TaskSortProps } from 'types/sort';\nimport { reorder } from 'utils/reorder';\n\ninterface TaskSliceState {\n  tasks: Array<ITask | CreateTaskInput>;\n  currentTask: ITask | null;\n  preTasks: Array<ITask | CreateTaskInput>;\n  state: FetchState;\n  mutateState: FetchState;\n  deleteState: FetchState;\n  currentTaskState: FetchState;\n  taskProjectId: number | null;\n  fetchingTasksProjectId: number | null;\n  error: Error | null;\n}\n\nconst initialState: TaskSliceState = {\n  tasks: [],\n  currentTask: null,\n  preTasks: [],\n  state: FetchState.IDLE,\n  mutateState: FetchState.IDLE,\n  deleteState: FetchState.IDLE,\n  currentTaskState: FetchState.IDLE,\n  taskProjectId: null,\n  fetchingTasksProjectId: null,\n  error: null,\n};\n\nexport const getTaskListAsync = createAsyncThunk(\n  'task/getTaskListAsync',\n  async (params: GetTaskListInput, thunkAPI) => {\n    const res = await taskApi.getTasks(params);\n    return res.data;\n  },\n  {\n    condition(params, { getState }) {\n      const { task } = getState() as RootState;\n      if (task.state === FetchState.LOADING) {\n        return false;\n      }\n    },\n    getPendingMeta({ arg, requestId }, { getState, extra }) {\n      return {\n        projectId: arg.projectId,\n      };\n    },\n  },\n);\n\nexport const getTaskAsync = createAsyncThunk(\n  'task/getTaskAsync',\n  async (id: number) => {\n    const res = await taskApi.getTask(id);\n    return res.data;\n  },\n  {\n    condition(params, { getState }) {\n      const { task } = getState() as RootState;\n      if (task.currentTaskState === FetchState.LOADING) {\n        return false;\n      }\n    },\n  },\n);\n\nexport const addTaskAsync = createAsyncThunk(\n  'task/addTaskAsync',\n  async (params: CreateTaskInput) => {\n    const res = await taskApi.createTask(params);\n    return res.data;\n  },\n);\n\nexport const editTaskAsync = createAsyncThunk(\n  'task/editTaskAsync',\n  async (params: UpdateTaskInput) => {\n    const res = await taskApi.updateTask(params);\n    return res.data;\n  },\n);\n\nexport const deleteTaskAsync = createAsyncThunk(\n  'task/deleteTaskAsync',\n  async (id: number, { dispatch, getState }) => {\n    const res = await taskApi.deleteTask(id);\n    if (!res.data.success) {\n      return Promise.reject('伺服器存取錯誤');\n    }\n    return res.data;\n  },\n);\n\nexport const reorderTaskAsync = createAsyncThunk(\n  'task/reorderTask',\n  async (params: TaskSortProps, { dispatch, getState }) => {\n    await taskApi.reorderTask(params);\n  },\n);\n\nexport const taskSlice = createSlice({\n  name: 'task',\n  initialState,\n  reducers: {\n    setTaskList: (state, action: PayloadAction<ITask[]>) => {\n      state.tasks = action.payload;\n    },\n    setPreTaskList: (state, action: PayloadAction<ITask[]>) => {\n      state.preTasks = action.payload;\n    },\n  },\n  extraReducers: {\n    [getTaskListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.fetchingTasksProjectId = action.meta.projectId;\n      state.error = null;\n    },\n    [getTaskListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('tasks payload 錯誤');\n      }\n      state.tasks = action.payload;\n      state.error = null;\n      state.fetchingTasksProjectId = null;\n    },\n    [getTaskListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      // state.tasks = [];\n      state.fetchingTasksProjectId = null;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [getTaskAsync.pending.type]: (state, action) => {\n      state.currentTaskState = FetchState.LOADING;\n      state.currentTask = null;\n      state.error = null;\n    },\n    [getTaskAsync.fulfilled.type]: (state, action) => {\n      state.currentTaskState = FetchState.SUCCESS;\n      state.currentTask = action.payload;\n      state.error = null;\n    },\n    [getTaskAsync.rejected.type]: (state, action) => {\n      state.currentTaskState = FetchState.FAILED;\n      state.currentTask = null;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [addTaskAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      const { arg: newTaskInput }: { arg: CreateTaskInput } =\n        action.meta;\n      state.tasks.push(newTaskInput);\n      state.error = null;\n    },\n    [addTaskAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      state.tasks.splice(state.tasks.length - 1, 1, action.payload);\n      state.error = null;\n    },\n    [addTaskAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      state.tasks.pop();\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [editTaskAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [editTaskAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      state.tasks.forEach((task, index) => {\n        if (task.id === action.payload.id) {\n          state.tasks[index] = { ...task, ...action.payload };\n        }\n      });\n      state.error = null;\n    },\n    [editTaskAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [deleteTaskAsync.pending.type]: (state, action) => {\n      state.deleteState = FetchState.LOADING;\n      state.error = null;\n    },\n    [deleteTaskAsync.fulfilled.type]: (state, action) => {\n      state.deleteState = FetchState.SUCCESS;\n      const { arg: id } = action.meta;\n      const targetIndex = state.tasks.findIndex(\n        (task) => task.id === id,\n      );\n      state.tasks.splice(targetIndex, 1);\n      state.error = null;\n    },\n    [deleteTaskAsync.rejected.type]: (state, action) => {\n      state.deleteState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [reorderTaskAsync.pending.type]: (state, action) => {\n      // state.mutateState = FetchState.LOADING;\n      // state.state = FetchState.IDLE;\n      state.error = null;\n    },\n    [reorderTaskAsync.fulfilled.type]: (state, action) => {\n      // state.mutateState = FetchState.SUCCESS;\n      // state.tasks = action.payload;\n      state.error = null;\n    },\n    [reorderTaskAsync.rejected.type]: (state, action) => {\n      // state.mutateState = FetchState.FAILED;\n      state.tasks = state.preTasks;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const { setTaskList, setPreTaskList } = taskSlice.actions;\n\nexport const reorderTaskActionAsync =\n  (params: TaskSortProps) =>\n  (dispatch: AppDispatch, getState: () => RootState) => {\n    const oldList = getState().task.tasks as Array<ITask>;\n    const orderedList = reorder({\n      list: oldList,\n      ...params,\n    }) as Array<ITask>;\n    const newList = orderedList.map((item) =>\n      item.id === params.fromId\n        ? { ...item, kanbanId: params.toKanbanId }\n        : item,\n    );\n    dispatch(setTaskList(newList));\n    dispatch(setPreTaskList(oldList));\n    dispatch(reorderTaskAsync(params));\n  };\n\nexport const selectTasks = (state: RootState) => state.task.tasks;\n\nexport const selectCurrentTask = (state: RootState) =>\n  state.task.currentTask;\n\nexport const selectCurrentTaskState = (state: RootState) =>\n  state.task.currentTaskState;\n\nexport const selectTaskFetchLoading = (state: RootState) =>\n  state.task.state === FetchState.LOADING;\n\nexport const selectTaskMutateState = (state: RootState) =>\n  state.task.mutateState;\n\nexport const selectTaskDeleteState = (state: RootState) =>\n  state.task.deleteState;\n\nexport const selectTasksByKanbanId =\n  (id: number) => (state: RootState) => {\n    return state.task.tasks.filter((item) => item.kanbanId === id);\n  };\n\nexport const selectTasksByEpicId =\n  (id: number) => (state: RootState) => {\n    return state.task.tasks.filter((item) => item.epicId === id);\n  };\n","import { AxiosResponse } from 'axios';\nimport { authIntance } from './instance';\nimport { ITaskType } from 'types/taskType';\n\ntype GetTaskTypesResponse = Array<ITaskType>;\n\nexport const taskTypeApi = {\n  getTaskTypes: (): Promise<AxiosResponse<GetTaskTypesResponse>> => {\n    return authIntance.get('/taskTypes');\n  },\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { taskTypeApi } from 'api/taskTypeReq';\nimport { FetchState } from 'types/common';\nimport { RootState, AppDispatch } from 'redux/store';\nimport { ITaskType } from 'types/taskType';\n\ninterface TaskTypeSliceState {\n  taskTypes: Array<ITaskType>;\n  state: FetchState;\n  error: Error | null;\n}\n\nconst initialState: TaskTypeSliceState = {\n  taskTypes: [],\n  state: FetchState.IDLE,\n  error: null,\n};\n\nexport const getTaskTypeListAsync = createAsyncThunk(\n  'taskType/getTaskTypeListAsync',\n  async () => {\n    const res = await taskTypeApi.getTaskTypes();\n    return res.data;\n  },\n  {\n    condition(_, { getState }) {\n      const { taskType } = getState() as RootState;\n      // if (taskType.taskTypes.length > 0) {\n      //   return false;\n      // }\n      if (\n        taskType.state === FetchState.LOADING ||\n        taskType.state === FetchState.SUCCESS\n      ) {\n        return false;\n      }\n    },\n  },\n);\n\nexport const taskTypeSlice = createSlice({\n  name: 'taskType',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getTaskTypeListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [getTaskTypeListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('taskTypes payload 錯誤');\n      }\n      state.taskTypes = action.payload;\n      state.error = null;\n    },\n    [getTaskTypeListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      state.taskTypes = [];\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const selectTaskTypes = (state: RootState) =>\n  state.taskType.taskTypes;\n","import { AxiosResponse } from 'axios';\nimport { authIntance } from './instance';\nimport qs from 'qs';\nimport { IEpic } from 'types/epic';\n\ntype GetEpicsResponse = Array<IEpic>;\n\ntype createEpicResponse = IEpic;\n\ntype DeleteEpicResponse = {\n  success: boolean;\n};\n\nexport type GetEpicListInput = Partial<IEpic> &\n  Pick<IEpic, 'projectId'>;\n\nexport type CreateEpicInput = Partial<Omit<IEpic, 'id'>> & {\n  projectId: number;\n  name: string;\n};\n\nexport const epicApi = {\n  getEpics: (\n    params?: GetEpicListInput,\n  ): Promise<AxiosResponse<GetEpicsResponse>> => {\n    return authIntance.get(`/epics?${qs.stringify(params)}`);\n  },\n  createEpic: (\n    params: CreateEpicInput,\n  ): Promise<AxiosResponse<createEpicResponse>> => {\n    return authIntance.post('/epics', params);\n  },\n  deleteEpic: (\n    id: number,\n  ): Promise<AxiosResponse<DeleteEpicResponse>> => {\n    return authIntance.delete(`/epics/${id}`);\n  },\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport {\n  CreateEpicInput,\n  epicApi,\n  GetEpicListInput,\n} from 'api/epicReq';\nimport { FetchState } from 'types/common';\nimport { RootState, AppDispatch } from 'redux/store';\nimport { IEpic } from 'types/epic';\n\ninterface EpicSliceState {\n  epics: Array<IEpic>;\n  state: FetchState;\n  mutateState: FetchState;\n  error: Error | null;\n}\n\nconst initialState: EpicSliceState = {\n  epics: [],\n  state: FetchState.IDLE,\n  mutateState: FetchState.IDLE,\n  error: null,\n};\n\nexport const getEpicListAsync = createAsyncThunk(\n  'epic/getEpicListAsync',\n  async (params: GetEpicListInput, thunkAPI) => {\n    const res = await epicApi.getEpics(params);\n    return res.data;\n  },\n);\n\nexport const addEpicAsync = createAsyncThunk(\n  'epic/addEpicAsync',\n  async (params: CreateEpicInput) => {\n    const res = await epicApi.createEpic(params);\n    return res.data;\n  },\n);\n\nexport const deleteEpicAsync = createAsyncThunk(\n  'epic/deleteEpicAsync',\n  async (id: number, { rejectWithValue }) => {\n    await epicApi.deleteEpic(id);\n    return { id };\n  },\n);\n\nexport const epicSlice = createSlice({\n  name: 'epic',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getEpicListAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      // state.fetchingEpicsEpicId = action.meta.epicId;\n      state.error = null;\n    },\n    [getEpicListAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      if (!Array.isArray(action.payload)) {\n        console.error('epics payload 錯誤');\n      }\n      state.epics = action.payload;\n      state.error = null;\n      // state.fetchingEpicsEpicId = null;\n    },\n    [getEpicListAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      // state.epics = [];\n      // state.fetchingEpicsEpicId = null;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [addEpicAsync.pending.type]: (state, action) => {\n      state.mutateState = FetchState.LOADING;\n      state.error = null;\n    },\n    [addEpicAsync.fulfilled.type]: (state, action) => {\n      state.mutateState = FetchState.SUCCESS;\n      state.epics.push(action.payload);\n      state.error = null;\n    },\n    [addEpicAsync.rejected.type]: (state, action) => {\n      state.mutateState = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n    [deleteEpicAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [deleteEpicAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      const targetIndex = state.epics.findIndex(\n        (epic) => epic.id === action.payload.id,\n      );\n      state.epics.splice(targetIndex, 1);\n      state.error = null;\n    },\n    [deleteEpicAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const actions = epicSlice.actions;\n\nexport const selectEpicList = (state: RootState) => state.epic.epics;\n\nexport const selectEpicMutateLoading = (state: RootState) =>\n  state.epic.mutateState === FetchState.LOADING;\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { projectApi } from 'api/projectReq';\nimport { RootState } from './store';\nimport { FetchState } from 'types/common';\nimport { IProject } from 'types/project';\n\ninterface ProjectListScreenSliceState {\n  editingProject: IProject | null;\n  state: FetchState;\n  error: Error | null;\n  projectModalOpen: boolean;\n}\n\nconst initialState: ProjectListScreenSliceState = {\n  projectModalOpen: false,\n  state: FetchState.IDLE,\n  editingProject: null,\n  error: null,\n};\n\nexport const getEditProjectAsync = createAsyncThunk(\n  'projectListScreen/getProjectAsync',\n  async (id: number) => {\n    const res = await projectApi.getProject(id);\n    return res.data;\n  },\n);\n\nexport const projectListScreenSlice = createSlice({\n  name: 'projectListScreen',\n  initialState,\n  reducers: {\n    openProjectModal(state) {\n      state.projectModalOpen = true;\n    },\n    closeProjectModal(state) {\n      state.projectModalOpen = false;\n    },\n    clearEditProject(state) {\n      state.editingProject = null;\n    },\n  },\n  extraReducers: {\n    [getEditProjectAsync.pending.type]: (state, action) => {\n      state.state = FetchState.LOADING;\n      state.error = null;\n    },\n    [getEditProjectAsync.fulfilled.type]: (state, action) => {\n      state.state = FetchState.SUCCESS;\n      state.editingProject = action.payload;\n      state.error = null;\n    },\n    [getEditProjectAsync.rejected.type]: (state, action) => {\n      state.state = FetchState.FAILED;\n      if (action.payload) {\n        state.error = action.payload;\n      } else {\n        state.error = action.error;\n      }\n    },\n  },\n});\n\nexport const projectListScreenActions = {\n  ...projectListScreenSlice.actions,\n  getEditProjectAsync,\n};\n\nexport const selectProjectModalOpen = (state: RootState) =>\n  state.projectListScreen.projectModalOpen;\n\nexport const selectEditProject = (state: RootState) =>\n  state.projectListScreen.editingProject;\n\nexport const selectEditProjectState = (state: RootState) =>\n  state.projectListScreen.state;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { RootState } from './store';\n\ninterface projectScreenSliceState {}\n\nconst initialState: projectScreenSliceState = {};\n\nexport const projectScreenSlice = createSlice({\n  name: 'projectScreen',\n  initialState,\n  reducers: {},\n});\n","import { createSlice } from '@reduxjs/toolkit';\nimport { FetchState } from 'types/common';\nimport { RootState } from './store';\n\ninterface kanbanScreenSliceState {}\n\nconst initialState: kanbanScreenSliceState = {};\n\nexport const kanbanScreenSlice = createSlice({\n  name: 'kanbanScreen',\n  initialState,\n  reducers: {},\n});\n\nexport const selectIsKanbanInitLoading = (state: RootState) => {\n  return (\n    state.project.state === FetchState.LOADING ||\n    state.user.state === FetchState.LOADING ||\n    state.taskType.state === FetchState.LOADING\n    // state.kanban.state === FetchState.LOADING ||\n    // state.task.state === FetchState.LOADING\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { RootState } from './store';\n\ninterface EpicScreenSliceState {}\n\nconst initialState: EpicScreenSliceState = {};\n\nexport const epicScreenSlice = createSlice({\n  name: 'epicScreen',\n  initialState,\n  reducers: {},\n});\n","import { useCallback } from 'react';\nimport { configureStore } from '@reduxjs/toolkit';\nimport { authSlice } from './entities/auth.slice';\nimport { projectSlice } from './entities/project.slice';\nimport { userSlice } from './entities/user.slice';\nimport { kanbanSlice } from './entities/kanban.slice';\nimport { taskSlice } from './entities/task.slice';\nimport { taskTypeSlice } from './entities/taskType.slice';\nimport { epicSlice } from './entities/epic.slice';\nimport { authScreenSlice } from './authScreen.slice';\nimport { projectListScreenSlice } from './projectListScreen.slice';\nimport { projectScreenSlice } from './projectScreen.slice';\nimport { kanbanScreenSlice } from './kanbanScreen.slice';\nimport { epicScreenSlice } from './epicScreen.slice';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst rootReducer = {\n  auth: authSlice.reducer,\n  project: projectSlice.reducer,\n  user: userSlice.reducer,\n  kanban: kanbanSlice.reducer,\n  task: taskSlice.reducer,\n  epic: epicSlice.reducer,\n  taskType: taskTypeSlice.reducer,\n  authScrren: authScreenSlice.reducer,\n  projectListScreen: projectListScreenSlice.reducer,\n  projectScreen: projectScreenSlice.reducer,\n  kanbanScreen: kanbanScreenSlice.reducer,\n  epicScreen: epicScreenSlice.reducer,\n};\n\nexport const store = configureStore({\n  reducer: rootReducer,\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useStoreSelector = (\n  selector: (state: RootState) => unknown,\n) => useSelector<RootState>(selector);\n","import { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  loginAsync,\n  registerAsync,\n  logoutAction,\n  selectUser,\n  selectIsLoginLoading,\n} from 'redux/entities/auth.slice';\nimport {\n  setUnAuthError,\n  switchRegisterAction,\n} from 'redux/authScreen.slice';\nimport { useAppDispatch } from 'redux/store';\n\nimport { AuthForm } from 'types/common';\n\nexport const useAuth = () => {\n  const dispatch = useAppDispatch();\n\n  const user = useSelector(selectUser);\n  const isLoginLoading = useSelector(selectIsLoginLoading);\n\n  const register = useCallback(\n    (form: AuthForm & { cpassword: string }) => {\n      if (form.cpassword !== form.password) {\n        dispatch(setUnAuthError('請確認兩次輸入的密碼相容'));\n        return;\n      }\n      dispatch(registerAsync(form))\n        .unwrap()\n        .then(() => {\n          dispatch(switchRegisterAction(true));\n        });\n    },\n    [dispatch],\n  );\n\n  const login = useCallback(\n    (form: AuthForm) => {\n      dispatch(loginAsync(form));\n    },\n    [dispatch],\n  );\n\n  const logout = useCallback(() => {\n    dispatch(logoutAction());\n  }, [dispatch]);\n\n  return {\n    user,\n    register,\n    login,\n    logout,\n    isLoginLoading,\n  };\n};\n","import { Form, Input, Button } from 'antd';\nimport styled from '@emotion/styled';\nimport { useAuth } from 'hooks/useAuth';\nimport { AuthForm } from 'types/common';\n\nexport const Login = () => {\n  const { login, isLoginLoading } = useAuth();\n\n  const handleSubmit = (value: AuthForm) => {\n    login(value);\n  };\n  return (\n    <Form onFinish={handleSubmit}>\n      <Form.Item\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: '請輸入用戶名',\n          },\n        ]}\n      >\n        <Input placeholder=\"用戶名\" type=\"text\" autoComplete=\"off\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: '請輸入密碼',\n          },\n        ]}\n      >\n        <Input\n          placeholder=\"密碼\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"off\"\n        />\n      </Form.Item>\n      <Form.Item>\n        <LongButton\n          htmlType=\"submit\"\n          loading={isLoginLoading}\n          type=\"primary\"\n        >\n          登入\n        </LongButton>\n      </Form.Item>\n    </Form>\n  );\n};\n\nconst LongButton = styled(Button)`\n  width: 100%;\n`;\n","import { Form, Input, Button } from 'antd';\nimport styled from '@emotion/styled';\nimport { useAuth } from 'hooks/useAuth';\n\nexport const Register = () => {\n  const { register, isLoginLoading } = useAuth();\n\n  return (\n    <Form onFinish={register}>\n      <Form.Item\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: '請輸入用戶名',\n          },\n        ]}\n      >\n        <Input placeholder=\"用戶名\" type=\"text\" autoComplete=\"off\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: '請輸入密碼',\n          },\n        ]}\n      >\n        <Input\n          placeholder=\"密碼\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"off\"\n        />\n      </Form.Item>\n      <Form.Item\n        name={'cpassword'}\n        rules={[{ required: true, message: '請確認密碼' }]}\n      >\n        <Input\n          placeholder=\"確認密碼\"\n          type=\"password\"\n          id=\"cpassword\"\n          autoComplete=\"off\"\n        />\n      </Form.Item>\n      <Form.Item>\n        <LongButton\n          htmlType=\"submit\"\n          loading={isLoginLoading}\n          type=\"primary\"\n        >\n          註冊\n        </LongButton>\n      </Form.Item>\n    </Form>\n  );\n};\n\nconst LongButton = styled(Button)`\n  width: 100%;\n`;\n","import { Typography } from 'antd';\nimport { isError } from 'utils/isError';\n\ninterface IErrorBox {\n  error: unknown;\n}\n\nexport const ErrorBox = ({ error }: IErrorBox) => {\n  if (isError(error)) {\n    return (\n      <div>\n        <Typography.Text type=\"danger\">\n          {error?.message}\n        </Typography.Text>\n      </div>\n    );\n  }\n  return null;\n};\n","export const isError = (value: any): value is Error => value?.message;\n","import { useEffect, useRef } from 'react';\n\nexport const useDocumentTitle = (\n  title: string,\n  keepOnUnmounted: boolean = false,\n) => {\n  const oldTitle = useRef(document.title).current;\n\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  useEffect(() => {\n    return () => {\n      if (!keepOnUnmounted) {\n        document.title = oldTitle;\n      }\n    };\n  }, [keepOnUnmounted, oldTitle]);\n};\n","import { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from '@emotion/styled';\nimport { Button } from 'antd';\nimport { Register, Login } from './components';\nimport { selectUserError } from 'redux/entities/auth.slice';\nimport { ErrorBox } from 'components/ErrorBox';\nimport {\n  selectIsRegister,\n  selectUnAuthError,\n  switchRegisterAction,\n} from 'redux/authScreen.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { useDocumentTitle } from 'hooks/useDocumentTitle';\n\nexport const AuthScreen = () => {\n  const isRegister = useSelector(selectIsRegister);\n  const authError = useSelector(selectUserError);\n  const unAuthError = useSelector(selectUnAuthError);\n  useDocumentTitle('Jira任務管理系統');\n  const dispatch = useAppDispatch();\n  const error = authError || unAuthError;\n  return (\n    <div>\n      <Title>{isRegister ? '請註冊' : '請登入'}</Title>\n      {isRegister ? <Register /> : <Login />}\n      <Button\n        type=\"link\"\n        onClick={() => dispatch(switchRegisterAction(!isRegister))}\n      >\n        {isRegister\n          ? '已經有帳號了? 直接登入'\n          : '沒有帳號? 註冊新帳號'}\n      </Button>\n      <ErrorBox error={error} />\n    </div>\n  );\n};\n\nconst Title = styled.h2`\n  margin-bottom: 2.4rem;\n  letter-spacing: 0.1rem;\n  color: rgb(94, 108, 132);\n`;\n","import React from 'react';\nimport { Rate } from 'antd';\n\ninterface IPin extends React.ComponentProps<typeof Rate> {\n  checked: boolean;\n  onCheckChange?: (checked: boolean) => void;\n}\n\nexport const Pin = ({\n  checked,\n  onCheckChange,\n  ...restProps\n}: IPin) => {\n  return (\n    <div>\n      <Rate\n        count={1}\n        value={checked ? 1 : 0}\n        onChange={(num: number) => onCheckChange?.(!!num)}\n        {...restProps}\n      />\n    </div>\n  );\n};\n","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  projectListScreenActions,\n  selectEditProject,\n  selectEditProjectState,\n  selectProjectModalOpen,\n} from 'redux/projectListScreen.slice';\nimport { selectIsMutateProjectLoading } from 'redux/entities/project.slice';\nimport { FetchState } from 'types/common';\n\nexport const useProjectDrawer = () => {\n  const dispatch = useDispatch();\n  const isOpen = useSelector(selectProjectModalOpen);\n  const editingProject = useSelector(selectEditProject);\n  const editingProjectState = useSelector(selectEditProjectState);\n  const isMutateProjectLoading = useSelector(\n    selectIsMutateProjectLoading,\n  );\n\n  const startEdit = useCallback(\n    (id: number) => {\n      dispatch(projectListScreenActions.openProjectModal());\n      dispatch(projectListScreenActions.getEditProjectAsync(id));\n    },\n    [dispatch],\n  );\n\n  const open = useCallback(() => {\n    dispatch(projectListScreenActions.openProjectModal());\n  }, [dispatch]);\n\n  const close = useCallback(() => {\n    dispatch(projectListScreenActions.closeProjectModal());\n    dispatch(projectListScreenActions.clearEditProject());\n  }, [dispatch]);\n\n  return {\n    isOpen,\n    open,\n    startEdit,\n    close,\n    editingProject,\n    isLoading: editingProjectState === FetchState.LOADING,\n    isMutateLoading: isMutateProjectLoading,\n  };\n};\n","import styled from '@emotion/styled';\n\nexport const ContentContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 3.2rem;\n`;\n","import styled from '@emotion/styled';\nimport { Spin } from 'antd';\n\nconst FullPage = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const FullPageLoading = () => {\n  return (\n    <FullPage>\n      <Spin size=\"large\" />\n    </FullPage>\n  );\n};\n","import styled from '@emotion/styled';\nimport { Button } from 'antd';\n\nexport const ButtonNoPadding = styled(Button)`\n  padding: 0;\n`;\n","import styled from '@emotion/styled';\n\nexport const Row = styled.div<{\n  gap?: number | boolean;\n  between?: boolean;\n  marginBottom?: number;\n}>`\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) =>\n    props.between ? 'space-between' : undefined};\n  margin-bottom: ${(props) =>\n    props.marginBottom ? `${props.marginBottom}rem` : undefined};\n  /* > :not(:first-child) { */\n  > :first-of-type ~ * {\n    margin-left: ${(props) =>\n      typeof props.gap === 'number'\n        ? props.gap + 'rem'\n        : props.gap\n        ? '2rem'\n        : undefined};\n  }\n  > * {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n`;\n","import styled from '@emotion/styled';\n\nexport const DrawerContentContainer = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import { Table, Dropdown, Button, Menu, TableProps } from 'antd';\nimport dayjs from 'dayjs';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Pin } from 'components/Pin';\nimport {\n  deleteProjectAsync,\n  editProjectAsync,\n} from 'redux/entities/project.slice';\nimport { useProjectDrawer } from '../hooks/useProjectDrawer';\nimport { ButtonNoPadding } from 'components/UI';\nimport { IUser } from 'types/user';\nimport { IProject } from 'types/project';\nimport { useAppDispatch } from 'redux/store';\n\ninterface ListProps extends TableProps<IProject> {\n  users: Array<IUser>;\n}\n\nexport const List = ({\n  users = [],\n  dataSource = [],\n  ...restProps\n}: ListProps) => {\n  const dispatch = useDispatch();\n  const handlePinProject = (id: number) => (pin: boolean) => {\n    dispatch(editProjectAsync({ id, pin }));\n  };\n\n  return (\n    <div>\n      <Table\n        rowKey=\"id\"\n        dataSource={dataSource}\n        columns={[\n          {\n            title: <Pin checked disabled />,\n            render(value, project) {\n              return (\n                <Pin\n                  checked={project.pin}\n                  onCheckChange={handlePinProject(project.id)}\n                />\n              );\n            },\n          },\n          {\n            title: '名稱',\n            sorter: (a, b) => a.name.localeCompare(b.name),\n            render(value, project) {\n              return (\n                <Link to={`../project/${project.id}`}>\n                  {project.name}\n                </Link>\n              );\n            },\n          },\n          {\n            title: '部門',\n            dataIndex: 'organization',\n          },\n          {\n            title: '負責人',\n            render(value, project) {\n              return (\n                users.find((user) => user.id === project.personId)\n                  ?.name || '未知'\n              );\n            },\n          },\n          {\n            title: '創建時間',\n            render(value, project) {\n              return (\n                <span>\n                  {project.created\n                    ? dayjs(project.created).format('YYYY-MM-DD')\n                    : '無'}\n                </span>\n              );\n            },\n          },\n          {\n            title: '操作',\n            render(value, project) {\n              return <More project={project} />;\n            },\n          },\n        ]}\n        pagination={false}\n        {...restProps}\n      />\n    </div>\n  );\n};\n\nconst More = ({ project }: { project: IProject }) => {\n  const { startEdit } = useProjectDrawer();\n  const dispatch = useAppDispatch();\n\n  const handleEditProject = () => {\n    startEdit(project.id);\n  };\n\n  const handleDeleteProject = () => {\n    dispatch(deleteProjectAsync(project.id));\n  };\n\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key=\"edit\" onClick={handleEditProject}>\n            編輯\n          </Menu.Item>\n          <Menu.Item key=\"delete\" onClick={handleDeleteProject}>\n            刪除\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <ButtonNoPadding type=\"link\">...</ButtonNoPadding>\n    </Dropdown>\n  );\n};\n","import React from 'react';\nimport { Select } from 'antd';\n\ntype SelectProps = React.ComponentProps<typeof Select>;\n\ninterface IdSelectProps\n  extends Omit<SelectProps, 'value' | 'onChange' | 'options'> {\n  value?: string | number | undefined | null;\n  onChange?: (value?: number) => void;\n  options?: Array<{ name: string; id: number }>;\n  defaultOptionName?: string;\n}\n\nexport const IdSelect = ({\n  value,\n  options,\n  defaultOptionName,\n  onChange,\n}: IdSelectProps) => {\n  const numberValue = toNumber(value);\n\n  const handleSelectChange = (value: unknown) => {\n    onChange?.(toNumber(value));\n  };\n\n  return (\n    <Select value={numberValue} onChange={handleSelectChange}>\n      {defaultOptionName ? (\n        <Select.Option value={0}>{defaultOptionName}</Select.Option>\n      ) : null}\n      {options?.map((option) => (\n        <Select.Option key={option.id} value={option.id}>\n          {option.name}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n};\n\nconst toNumber = (value: unknown): number =>\n  isNaN(Number(value)) ? 0 : Number(value);\n","/** @jsxImportSource @emotion/react */\nimport { Form, Input } from 'antd';\n\nimport { IProject } from 'types/project';\nimport { IUser } from 'types/user';\n\nimport { IdSelect } from '../../../components/IdSelect';\n\ninterface ISearchPanel {\n  users: Array<IUser>;\n  params: Partial<Pick<IProject, 'name' | 'personId'>>;\n  setParams: (params: ISearchPanel['params']) => void;\n}\n\nexport const SearchPanel = ({\n  users,\n  params,\n  setParams,\n}: ISearchPanel) => {\n  const handleNameChange = (\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    setParams({ ...params, name: e.target.value.trim() });\n  };\n\n  const handlePersonIdChange = (value?: number) => {\n    setParams({ ...params, personId: value });\n  };\n  return (\n    <Form css={{ marginBottom: '2rem' }} layout=\"inline\">\n      <Form.Item>\n        <Input\n          type=\"search\"\n          value={params.name}\n          onChange={handleNameChange}\n          placeholder=\"輸入專案名稱或負責人\"\n          maxLength={10}\n        />\n      </Form.Item>\n      <Form.Item>\n        <IdSelect\n          value={params.personId}\n          options={users}\n          defaultOptionName=\"負責人\"\n          onChange={handlePersonIdChange}\n        />\n      </Form.Item>\n    </Form>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { IdSelect } from './IdSelect';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUserListAsync,\n  selectUsers,\n} from 'redux/entities/user.slice';\n\ninterface IUserSelect extends React.ComponentProps<typeof IdSelect> {}\n\nexport const UserSelect = (props: IUserSelect) => {\n  const dispatch = useDispatch();\n  const users = useSelector(selectUsers);\n\n  useEffect(() => {\n    dispatch(getUserListAsync());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <IdSelect options={users || []} {...props} />\n    </div>\n  );\n};\n","import { Drawer, Form, Input, Button, Spin } from 'antd';\nimport styled from '@emotion/styled';\nimport { UserSelect } from 'components/UserSelect';\nimport { useProjectDrawer } from '../hooks/useProjectDrawer';\nimport { useEffect } from 'react';\nimport {\n  addProjectAsync,\n  editProjectAsync,\n} from 'redux/entities/project.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { createProjectInput } from 'api/projectReq';\nimport { DrawerContentContainer } from 'components/UI';\n\ntype FormValue = createProjectInput;\n\nexport const ProjectDrawer = () => {\n  const {\n    isOpen,\n    close,\n    editingProject,\n    isLoading,\n    isMutateLoading,\n  } = useProjectDrawer();\n  const dispatch = useAppDispatch();\n\n  const title = editingProject ? '編輯專案' : '新增專案';\n\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue(editingProject);\n  }, [editingProject, form]);\n\n  const handleCloseProjectModal = () => {\n    form.resetFields();\n    close();\n  };\n\n  const handleSubmitProject = (value: FormValue) => {\n    const isEdit = !!editingProject;\n\n    if (isEdit) {\n      dispatch(editProjectAsync({ id: editingProject.id, ...value }))\n        .unwrap()\n        .then(() => {\n          form.resetFields();\n          close();\n        });\n    } else {\n      dispatch(addProjectAsync(value))\n        .unwrap()\n        .then(() => {\n          form.resetFields();\n          close();\n        });\n    }\n  };\n\n  return (\n    <Drawer\n      visible={isOpen}\n      onClose={handleCloseProjectModal}\n      forceRender\n      // destroyOnClose\n      width=\"100%\"\n    >\n      <DrawerContentContainer>\n        {isLoading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <>\n            <h1>{title}</h1>\n            <Form\n              form={form}\n              onFinish={handleSubmitProject}\n              layout=\"vertical\"\n              style={{ width: '40rem' }}\n            >\n              <Form.Item\n                label=\"名稱\"\n                name=\"name\"\n                rules={[\n                  { required: true, message: '請輸入專案名稱' },\n                ]}\n              >\n                <Input\n                  placeholder=\"請輸入專案名稱\"\n                  autoComplete=\"off\"\n                />\n              </Form.Item>\n\n              <Form.Item\n                label=\"部門\"\n                name=\"organization\"\n                rules={[{ required: true, message: '請輸入部門名' }]}\n              >\n                <Input\n                  placeholder=\"請輸入專案名稱\"\n                  autoComplete=\"off\"\n                />\n              </Form.Item>\n\n              <Form.Item\n                label=\"負責人\"\n                name=\"personId\"\n                rules={[{ required: true, message: '請選擇負責人' }]}\n              >\n                <UserSelect defaultOptionName=\"負責人\" />\n              </Form.Item>\n\n              <Form.Item style={{ textAlign: 'right' }}>\n                <Button\n                  loading={isMutateLoading}\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                >\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </DrawerContentContainer>\n    </Drawer>\n  );\n};\n","import { useCallback, useMemo, useState } from 'react';\nimport {\n  useSearchParams,\n  URLSearchParamsInit,\n} from 'react-router-dom';\nimport { cleanObject } from 'utils/cleanObject';\n\nexport const useUrlQueryParams = <K extends string>(\n  keys: Array<K>,\n) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [querykeys] = useState(keys);\n\n  const paramsObj = useMemo(() => {\n    const obj = querykeys.reduce(\n      (pre, key) => {\n        return {\n          ...pre,\n          [key]: searchParams.get(key) || undefined,\n        };\n      },\n      { ...Object.fromEntries(searchParams) } as {\n        [key in K]: string;\n      },\n    );\n    return obj;\n  }, [querykeys, searchParams]);\n\n  const setParams = useCallback(\n    (updateParams: Partial<{ [key in K]: unknown }>) => {\n      setSearchParams(\n        cleanObject({\n          ...paramsObj,\n          ...updateParams,\n        }) as URLSearchParamsInit,\n      );\n    },\n    [paramsObj, setSearchParams],\n  );\n\n  return [paramsObj, setParams] as const;\n};\n","export const cleanObject = (object: { [key in string]: unknown }) => {\n  return Object.fromEntries(\n    Object.entries(object).filter(([_, value]) => {\n      return !!value;\n    }),\n  );\n};\n","import { useEffect, useState } from 'react';\n\nexport const useDebounce = <V>(value: V, delay?: number) => {\n  const [debounceValue, setDebounceValue] = useState(value);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      //每次value變化設置一個定時器設值\n      setDebounceValue(value);\n    }, delay || 200);\n    return () => {\n      //在執行下一次setTimeout前清除之前的\n      clearTimeout(timeout);\n    };\n  }, [value, delay]);\n\n  return debounceValue;\n};\n","import { useEffect } from 'react';\nimport { List, SearchPanel } from './components';\nimport { ContentContainer } from 'components/UI';\nimport { useProjectSearchParams } from './hooks/useProjectSearchParams';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getProjectListAsync,\n  selectIsProjectLoading,\n  selectProjectList,\n} from 'redux/entities/project.slice';\nimport {\n  getUserListAsync,\n  selectUsers,\n} from 'redux/entities/user.slice';\nimport { ProjectDrawer } from './components';\nimport { Row, ButtonNoPadding } from 'components/UI';\nimport { useProjectDrawer } from './hooks/useProjectDrawer';\nimport { useAppDispatch } from 'redux/store';\nimport { useDebounce } from 'hooks/useDebounce';\nimport { useDocumentTitle } from 'hooks/useDocumentTitle';\n\nexport const ProjectListScreen = () => {\n  const [searchParams, setSearchParams] = useProjectSearchParams();\n  const debounceProjectParams = useDebounce(searchParams);\n  const dispatch = useAppDispatch();\n  useDocumentTitle('專案列表');\n  const users = useSelector(selectUsers);\n  const projectList = useSelector(selectProjectList);\n  const isProjectLoading = useSelector(selectIsProjectLoading);\n  const { open } = useProjectDrawer();\n\n  useEffect(() => {\n    dispatch(getProjectListAsync(debounceProjectParams));\n  }, [debounceProjectParams, dispatch]);\n\n  useEffect(() => {\n    const resultAction = dispatch(getUserListAsync());\n    return () => {\n      resultAction.abort();\n    };\n  }, [dispatch]);\n\n  const handleOpenProjectModal = () => open();\n\n  return (\n    <>\n      <ContentContainer>\n        <Row between marginBottom={2}>\n          <h1>專案列表</h1>\n          <ButtonNoPadding\n            type=\"link\"\n            onClick={handleOpenProjectModal}\n          >\n            創建專案\n          </ButtonNoPadding>\n        </Row>\n        <SearchPanel\n          users={users}\n          params={searchParams}\n          setParams={setSearchParams}\n        />\n        <List\n          dataSource={projectList}\n          users={users}\n          loading={isProjectLoading}\n        />\n      </ContentContainer>\n      <ProjectDrawer />\n    </>\n  );\n};\n\nProjectListScreen.whyDidYouRender = false;\n","import { useMemo } from 'react';\nimport { useUrlQueryParams } from 'hooks/useUrlQueryParams';\n\nexport const useProjectSearchParams = () => {\n  const [params, setSearchParams] = useUrlQueryParams([\n    'name',\n    'personId',\n  ]);\n\n  const projectParams = useMemo(() => {\n    return {\n      ...params,\n      personId: Number(params.personId) || undefined,\n    };\n  }, [params]);\n\n  return [projectParams, setSearchParams] as const;\n};\n","export type KanbanSortProps = {\n  fromId: number; //要重新排序的item\n  referenceId: number; //目標item\n  type: 'before' | 'after'; //放在前面還後面\n};\n\nexport type TaskSortProps = {\n  fromId: number; //要重新排序的item\n  referenceId?: number; //目標item\n  type: 'before' | 'after'; //放在前面還後面\n  fromKanbanId: number;\n  toKanbanId: number;\n};\n\n// export enum SortType {\n//   BEFORE = 'before',\n//   AFTER = 'after',\n// }\n\nexport enum TypeId {\n  COLUMN = 'column',\n  ROW = 'row',\n}\n","const colors = {\n  primary: '#2684FF',\n  gray: {\n    100: '#F4F5F7',\n  },\n};\n\nexport default colors;\n","import { Outlet, Link } from 'react-router-dom';\nimport { Menu } from 'antd';\nimport styled from '@emotion/styled';\nimport { useRouteType } from './hooks/useRouteType';\nimport colors from 'theme/colors';\n\nexport const ProjectScreen = () => {\n  const routeType = useRouteType();\n  return (\n    <Container>\n      {/* <h1>ProjectScreen</h1> */}\n      <Aside>\n        <Menu selectedKeys={[routeType]}>\n          <Menu.Item key=\"kanban\">\n            <Link to=\"kanban\">看板</Link>\n          </Menu.Item>\n          <Menu.Item key=\"epic\">\n            <Link to=\"epic\">任務組</Link>\n          </Menu.Item>\n        </Menu>\n      </Aside>\n      <Main>\n        <Outlet />\n      </Main>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: 16rem 1fr;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  overflow: hidden;\n  box-shadow: -5px 0 5px -5px rgba(0, 0, 0, 0.1); // 只呈現左邊陰影效果\n`;\n\nconst Aside = styled.aside`\n  background-color: ${colors.gray[100]};\n`;\n","import { useParams } from 'react-router';\n\nexport const useProjectIdInUrl = () => {\n  const { id: projectId } = useParams();\n  return Number(projectId);\n};\n","import { useState } from 'react';\nimport { Card, Input } from 'antd';\nimport styled from '@emotion/styled';\nimport { useAppDispatch } from 'redux/store';\nimport { addTaskAsync } from 'redux/entities/task.slice';\nimport { useProjectIdInUrl } from '../../../hooks/useProjectIdInUrl';\n\ninterface ICreateTask {\n  kanbanId: number;\n}\n\nexport const CreateTask = ({ kanbanId }: ICreateTask) => {\n  const [name, setName] = useState('');\n  const [inputMode, setInputMode] = useState(false);\n  const dispatch = useAppDispatch();\n  const projectId = useProjectIdInUrl();\n\n  const handleToggleInput = () => {\n    setInputMode((inputMode) => !inputMode);\n  };\n\n  const handleSubmitTask = () => {\n    if (!name) {\n      return;\n    }\n    dispatch(addTaskAsync({ projectId, kanbanId, name, typeId: 1 }))\n      .unwrap()\n      .catch(() => {\n        setInputMode(true);\n        setName(name);\n      });\n    setInputMode(false);\n    setName('');\n  };\n\n  if (!inputMode) {\n    return (\n      <StyleAddTask onClick={handleToggleInput}>\n        +新增任務\n      </StyleAddTask>\n    );\n  }\n  return (\n    <Card>\n      <Input\n        placeholder=\"新增任務\"\n        autoFocus\n        value={name}\n        autoComplete=\"off\"\n        onBlur={handleToggleInput}\n        onChange={(evt) => setName(evt.target.value.trim())}\n        onPressEnter={handleSubmitTask}\n      />\n    </Card>\n  );\n};\n\nconst StyleAddTask = styled.div`\n  padding-left: 1rem;\n  cursor: pointer;\n`;\n","import { useCallback, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useUrlQueryParams } from 'hooks/useUrlQueryParams';\nimport { useAppDispatch } from 'redux/store';\nimport {\n  getTaskAsync,\n  selectCurrentTask,\n  selectCurrentTaskState,\n  selectTaskDeleteState,\n  selectTaskMutateState,\n} from 'redux/entities/task.slice';\nimport { FetchState } from 'types/common';\n\nexport const useTaskModal = () => {\n  const [{ editingTaskId }, setParams] = useUrlQueryParams([\n    'editingTaskId',\n  ]);\n  const editingTask = useSelector(selectCurrentTask);\n  const currentTaskState = useSelector(selectCurrentTaskState);\n  const mutateState = useSelector(selectTaskMutateState);\n  const deleteState = useSelector(selectTaskDeleteState);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    editingTaskId && dispatch(getTaskAsync(Number(editingTaskId)));\n  }, [editingTaskId, dispatch]);\n\n  const startEditTask = useCallback(\n    (id: number) => {\n      setParams({\n        editingTaskId: id,\n      });\n    },\n    [setParams],\n  );\n\n  const close = useCallback(() => {\n    setParams({\n      editingTaskId: '',\n    });\n  }, [setParams]);\n\n  return {\n    isOpen: !!editingTaskId,\n    isLoading: currentTaskState === FetchState.LOADING,\n    mutateLoading: mutateState === FetchState.LOADING,\n    deleteLoading: deleteState === FetchState.LOADING,\n    editingTaskId,\n    editingTask,\n    startEditTask,\n    close,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/task.69774797.svg\";","export default __webpack_public_path__ + \"static/media/bug.5d8e8fd5.svg\";","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  getTaskTypeListAsync,\n  selectTaskTypes,\n} from 'redux/entities/taskType.slice';\nimport { useAppDispatch } from 'redux/store';\nimport taskIcon from 'assets/task.svg';\nimport bugIcon from 'assets/bug.svg';\n\ninterface ITaskTypeIcon {\n  typeId: number;\n}\n\nexport const TaskTypeIcon = ({ typeId }: ITaskTypeIcon) => {\n  const dispatch = useAppDispatch();\n  const taskTypes = useSelector(selectTaskTypes);\n\n  const name = taskTypes?.find(\n    (taskType) => taskType.id === typeId,\n  )?.name;\n\n  const svgIcon = name === 'task' ? taskIcon : bugIcon;\n\n  useEffect(() => {\n    dispatch(getTaskTypeListAsync());\n  }, [dispatch]);\n\n  if (!name) {\n    return null;\n  }\n\n  return <img alt=\"類型\" src={svgIcon} />;\n};\n","interface IMarkWord {\n  name: string;\n  keyword?: string;\n}\n\nexport const MarkWord = ({ name, keyword }: IMarkWord) => {\n  if (!keyword) {\n    return <span>{name}</span>;\n  }\n\n  const wordAry = name.split(keyword); //把keyowrd去掉分割\n\n  return (\n    <>\n      {wordAry.map((str, index) => {\n        return (\n          <span key={index}>\n            {/* 非關鍵字的str */}\n            {str}\n            {/* 如果不是最後一個就補上keyword */}\n            {index === wordAry.length - 1 ? null : (\n              <span style={{ color: '#257AFD' }}>{keyword}</span>\n            )}\n          </span>\n        );\n      })}\n    </>\n  );\n};\n","import { useUrlQueryParams } from 'hooks/useUrlQueryParams';\nimport { useMemo } from 'react';\nimport { useParams } from 'react-router';\nimport { ITask } from 'types/task';\n\nexport const useTaskSearchParams = () => {\n  const { id: projectId } = useParams();\n  const [{ name, processorId, typeId }, updateParams] =\n    useUrlQueryParams(['name', 'processorId', 'typeId']);\n  return [\n    useMemo(\n      () => ({\n        projectId: Number(projectId),\n        name,\n        processorId: Number(processorId) || undefined,\n        typeId: Number(typeId) || undefined,\n      }),\n      [projectId, name, processorId, typeId],\n    ),\n    updateParams,\n  ] as const;\n};\n","import { Card, Typography } from 'antd';\nimport { useTaskModal } from '../hooks/useTaskModal';\nimport { ITask } from 'types/task';\nimport { TaskTypeIcon } from './TaskTypeIcon';\nimport { MarkWord } from 'components/MarkWord';\nimport { useTaskSearchParams } from '../hooks/useTaskSearchParams';\nimport styled from '@emotion/styled';\nimport { CreateTaskInput } from 'api/taskReq';\n\ninterface ITaskCard {\n  task: ITask | CreateTaskInput;\n}\n\nexport const TaskCard = ({ task }: ITaskCard) => {\n  const { startEditTask } = useTaskModal();\n  const [{ name: keyword }] = useTaskSearchParams();\n\n  const handleTaskCardClick = () => {\n    if (!task.id) return;\n    startEditTask(task.id);\n  };\n\n  return (\n    <StyleCard\n      key={task.id || `${task.kanbanId}_${task.name}`}\n      onClick={handleTaskCardClick}\n    >\n      <div>\n        <Typography.Text ellipsis>\n          <MarkWord name={task.name} keyword={keyword} />\n        </Typography.Text>\n      </div>\n      <TaskTypeIcon typeId={task.typeId} />\n    </StyleCard>\n  );\n};\n\nconst StyleCard = styled(Card)`\n  margin-bottom: 0.6rem;\n  cursor: pointer;\n`;\n","import React from 'react';\nimport {\n  Draggable,\n  DraggableProps,\n  Droppable,\n  DroppableProps,\n  DroppableProvided,\n  DroppableProvidedProps,\n} from 'react-beautiful-dnd';\n\ntype DropProps = Omit<DroppableProps, 'children'> & {\n  children: React.ReactNode;\n};\n\nexport const Drop = ({ children, ...props }: DropProps) => {\n  return (\n    <Droppable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            provided,\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n          });\n        }\n        return <div />;\n      }}\n    </Droppable>\n  );\n};\n\ntype DropChildProps = Partial<\n  { provided: DroppableProvided } & DroppableProvidedProps\n> &\n  React.HTMLAttributes<HTMLDivElement>;\n\nexport const DropChild = React.forwardRef<\n  HTMLDivElement,\n  DropChildProps\n>(({ children, ...props }, ref) => {\n  // console.log('drap child props', props);\n\n  return (\n    <div {...props} ref={ref}>\n      {children}\n      {props.provided?.placeholder}\n    </div>\n  );\n});\n\nexport type DragProps = Omit<DraggableProps, 'children'> & {\n  children: React.ReactNode;\n};\n\nexport const Drag = ({ children, ...props }: DragProps) => {\n  return (\n    <Draggable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.draggableProps,\n            ...provided.dragHandleProps,\n            ref: provided.innerRef,\n          });\n        }\n        return <div />;\n      }}\n    </Draggable>\n  );\n};\n\nexport const DragChild = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ children, ...props }, ref) => {\n  // console.log('DragChild props', props);\n  return (\n    <div {...props} ref={ref}>\n      {children}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { useEffect } from 'react';\nimport { Badge, Button, Dropdown, Menu, Modal } from 'antd';\nimport { useSelector } from 'react-redux';\nimport {\n  getTaskListAsync,\n  selectTasksByKanbanId,\n} from 'redux/entities/task.slice';\nimport { deleteKanbanAsync } from 'redux/entities/kanban.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { IKanban } from 'types/kanban';\nimport { useTaskSearchParams } from '../hooks/useTaskSearchParams';\nimport colors from 'theme/colors';\nimport { CreateTask } from './CreateTask';\nimport { TaskCard } from './TaskCard';\nimport { Row } from 'components/UI/Row';\nimport {\n  Drop,\n  DropChild,\n  Drag,\n  DragChild,\n} from 'components/DragDrop';\nimport { TypeId } from 'types/sort';\nimport { CreateKanbanInput } from 'api/kanbanReq';\n\ninterface IKanbanColumn {\n  kanban: IKanban | CreateKanbanInput;\n}\n\nexport const KanbanColumn = ({ kanban }: IKanbanColumn) => {\n  // const [taskParams] = useTaskSearchParams();\n  // const dispatch = useAppDispatch();\n  const tasks = useSelector(selectTasksByKanbanId(kanban?.id || 0));\n\n  // useEffect(() => {\n  //   dispatch(getTaskListAsync(taskParams));\n  // }, [taskParams, dispatch]);\n\n  return (\n    <KanbanContainer>\n      <Row between marginBottom={0.5}>\n        <KanbanTitle>\n          <h3>{kanban.name}</h3>\n          <StyleBadge count={tasks.length} offset={[6, 2]} />\n        </KanbanTitle>\n        <More kanban={kanban} />\n      </Row>\n      <TasksContainer>\n        <Drop\n          type={TypeId.ROW}\n          droppableId={`taskContainer_${kanban.id}`}\n          direction=\"vertical\"\n        >\n          <DropChild style={{ minHeight: '1rem' }}>\n            {tasks?.map((task, index) => {\n              return (\n                <Drag\n                  key={task.id}\n                  draggableId={`task_${task.id}`}\n                  index={index}\n                >\n                  <DragChild>\n                    <TaskCard task={task} />\n                  </DragChild>\n                </Drag>\n              );\n            })}\n          </DropChild>\n        </Drop>\n        <CreateTask kanbanId={kanban?.id || 0} />\n      </TasksContainer>\n    </KanbanContainer>\n  );\n};\n\nconst More = ({\n  kanban,\n}: {\n  kanban: IKanban | CreateKanbanInput;\n}) => {\n  const dispatch = useAppDispatch();\n\n  const handleDeleteBtnClick = () => {\n    Modal.confirm({\n      title: `刪除${kanban.name}看板`,\n      okText: '確定',\n      cancelText: '取消',\n      onOk() {\n        return dispatch(deleteKanbanAsync(kanban?.id || 0));\n      },\n    });\n  };\n\n  const overlay = (\n    <Menu>\n      <Menu.Item key=\"delete\">\n        <Button type=\"link\" onClick={handleDeleteBtnClick}>\n          刪除\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n  return (\n    <Dropdown overlay={overlay}>\n      <Button type=\"link\">...</Button>\n    </Dropdown>\n  );\n};\n\nexport const KanbanContainer = styled.div`\n  height: 97%;\n  min-width: 27rem;\n  display: flex;\n  flex-direction: column;\n  margin-right: 1.5rem;\n  padding: 0.7rem 1rem;\n  border-radius: 6px;\n  background-color: ${colors.gray[100]};\n`;\n\nconst TasksContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst KanbanTitle = styled.div`\n  display: flex;\n`;\n\nexport const StyleBadge = styled(Badge)`\n  sup {\n    background-color: #c9c5c5;\n  }\n`;\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSoftwareLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 179 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: \"false\",\n    \"aria-hidden\": \"true\",\n    className: \"css-sq9aeg-Logo\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"97.6553341%\",\n    y1: \"35.6591143%\",\n    x2: \"37.202032%\",\n    y2: \"75.4891864%\",\n    id: \"uid392-1\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"7%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"8.43371138%\",\n    y1: \"60.1495759%\",\n    x2: \"64.1161517%\",\n    y2: \"23.5790285%\",\n    id: \"uid392-2\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,27.9242105 C12.4881804,26.8071817 13.1062496,25.2917664 13.1062496,23.7115789 C13.1062496,22.1313915 12.4881804,20.6159762 11.3881081,19.4989474 L11.3881081,19.4989474 L3.74837838,11.7621053 L0.273513514,15.2926316 C-0.0900771727,15.6625064 -0.0900771727,16.2617042 0.273513514,16.6315789 L11.3881081,27.9242105 L11.3881081,27.9242105 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.5027027,15.2926316 L11.3881081,4 L11.3881081,4 L11.3539189,4.03473684 L11.3539189,4.03473684 C9.08852466,6.36456187 9.09963243,10.1156459 11.3787838,12.4315789 L19.0247297,20.1652632 L22.5027027,16.6315789 C22.8662934,16.2617042 22.8662934,15.6625064 22.5027027,15.2926316 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,12.4252632 C9.10895676,10.1093301 9.09784899,6.35824608 11.3632432,4.02842105 L3.43445946,12.0810526 L7.58067568,16.2936842 L11.3881081,12.4252632 Z\",\n    fill: \"url(#uid392-1)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.1893243,15.6368421 L11.3881081,19.4989474 C12.4881804,20.6159762 13.1062496,22.1313915 13.1062496,23.7115789 C13.1062496,25.2917664 12.4881804,26.8071817 11.3881081,27.9242105 L19.3355405,19.8494737 L15.1893243,15.6368421 Z\",\n    fill: \"url(#uid392-2)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.07,18.956 C36.07,20.646 35.394,21.842 33.418,21.842 C32.56,21.842 31.702,21.686 31,21.4 L31,23.662 C31.65,23.896 32.586,24.104 33.808,24.104 C37.032,24.104 38.41,21.946 38.41,18.8 L38.41,6.918 L36.07,6.918 L36.07,18.956 Z M41.894,7.568 C41.894,8.556 42.544,9.128 43.454,9.128 C44.364,9.128 45.014,8.556 45.014,7.568 C45.014,6.58 44.364,6.008 43.454,6.008 C42.544,6.008 41.894,6.58 41.894,7.568 Z M42.31,24 L44.546,24 L44.546,11 L42.31,11 L42.31,24 Z M47.926,24 L50.11,24 L50.11,16.33 C50.11,13.574 51.852,12.716 54.712,13.002 L54.712,10.818 C52.164,10.662 50.864,11.754 50.11,13.288 L50.11,11 L47.926,11 L47.926,24 Z M65.45,24 L65.45,21.66 C64.618,23.376 63.058,24.26 61.056,24.26 C57.598,24.26 55.856,21.322 55.856,17.5 C55.856,13.834 57.676,10.74 61.316,10.74 C63.214,10.74 64.67,11.598 65.45,13.288 L65.45,11 L67.686,11 L67.686,24 L65.45,24 Z M58.092,17.5 C58.092,20.62 59.34,22.18 61.654,22.18 C63.656,22.18 65.45,20.906 65.45,18.02 L65.45,16.98 C65.45,14.094 63.812,12.82 61.914,12.82 C59.392,12.82 58.092,14.484 58.092,17.5 Z M86.926,19.294 C86.926,16.226 84.898,15.056 81.284,14.146 C78.268,13.392 77.176,12.69 77.176,11.286 C77.176,9.726 78.502,8.946 80.738,8.946 C82.506,8.946 84.352,9.258 86.068,10.246 L86.068,7.906 C84.898,7.256 83.312,6.658 80.842,6.658 C76.864,6.658 74.836,8.634 74.836,11.286 C74.836,14.094 76.552,15.42 80.4,16.356 C83.65,17.136 84.586,17.942 84.586,19.45 C84.586,20.958 83.624,21.972 81.05,21.972 C78.788,21.972 76.344,21.374 74.758,20.542 L74.758,22.934 C76.084,23.61 77.618,24.26 80.92,24.26 C85.158,24.26 86.926,22.258 86.926,19.294 Z M95.09,24.26 C91.19,24.26 88.902,21.374 88.902,17.474 C88.902,13.574 91.19,10.74 95.09,10.74 C98.964,10.74 101.226,13.574 101.226,17.474 C101.226,21.374 98.964,24.26 95.09,24.26 Z M95.09,12.82 C92.308,12.82 91.086,15.004 91.086,17.474 C91.086,19.944 92.308,22.18 95.09,22.18 C97.846,22.18 99.042,19.944 99.042,17.474 C99.042,15.004 97.846,12.82 95.09,12.82 Z M106.92,9.622 C106.92,8.452 107.596,7.646 108.974,7.646 C109.494,7.646 109.988,7.698 110.378,7.776 L110.378,5.722 C109.988,5.618 109.546,5.514 108.87,5.514 C106.088,5.514 104.736,7.152 104.736,9.57 L104.736,11 L102.63,11 L102.63,13.08 L104.736,13.08 L104.736,24 L106.92,24 L106.92,13.08 L110.274,13.08 L110.274,11 L106.92,11 L106.92,9.622 Z M115.786,19.892 L115.786,13.08 L119.244,13.08 L119.244,11 L115.786,11 L115.786,8.244 L113.602,8.244 L113.602,11 L111.496,11 L111.496,13.08 L113.602,13.08 L113.602,19.944 C113.602,22.362 114.954,24 117.736,24 C118.412,24 118.854,23.896 119.244,23.792 L119.244,21.634 C118.854,21.712 118.36,21.816 117.84,21.816 C116.462,21.816 115.786,21.036 115.786,19.892 Z M125.432,24 L128.292,24 L130.528,17.708 L131.724,13.704 L132.92,17.708 L135.156,24 L138.016,24 L142.8,11 L140.33,11 L136.586,22.024 L132.79,11 L130.658,11 L126.862,22.024 L123.118,11 L120.648,11 L125.432,24 Z M153.538,24 L153.538,21.66 C152.706,23.376 151.146,24.26 149.144,24.26 C145.686,24.26 143.944,21.322 143.944,17.5 C143.944,13.834 145.764,10.74 149.404,10.74 C151.302,10.74 152.758,11.598 153.538,13.288 L153.538,11 L155.774,11 L155.774,24 L153.538,24 Z M146.18,17.5 C146.18,20.62 147.428,22.18 149.742,22.18 C151.744,22.18 153.538,20.906 153.538,18.02 L153.538,16.98 C153.538,14.094 151.9,12.82 150.002,12.82 C147.48,12.82 146.18,14.484 146.18,17.5 Z M159.154,24 L161.338,24 L161.338,16.33 C161.338,13.574 163.08,12.716 165.94,13.002 L165.94,10.818 C163.392,10.662 162.092,11.754 161.338,13.288 L161.338,11 L159.154,11 L159.154,24 Z M178.108,23.48 C177.042,24.052 175.404,24.26 174.078,24.26 C169.216,24.26 167.084,21.452 167.084,17.474 C167.084,13.548 169.268,10.74 173.22,10.74 C177.224,10.74 178.836,13.522 178.836,17.474 L178.836,18.488 L169.346,18.488 C169.658,20.698 171.088,22.128 174.156,22.128 C175.664,22.128 176.938,21.842 178.108,21.426 L178.108,23.48 Z M173.116,12.768 C170.75,12.768 169.554,14.302 169.32,16.564 L176.574,16.564 C176.444,14.146 175.352,12.768 173.116,12.768 Z\",\n    fill: \"inherit\",\n    fillRule: \"evenodd\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoftwareLogo);\nexport default __webpack_public_path__ + \"static/media/software-logo.ec204298.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  getTaskTypeListAsync,\n  selectTaskTypes,\n} from 'redux/entities/taskType.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { IdSelect } from './IdSelect';\n\ninterface ITaskType extends React.ComponentProps<typeof IdSelect> {}\n\nexport const TaskTypeSelect = (props: ITaskType) => {\n  const dispatch = useAppDispatch();\n  const taskTypes = useSelector(selectTaskTypes);\n\n  useEffect(() => {\n    dispatch(getTaskTypeListAsync());\n  }, [dispatch]);\n  return <IdSelect options={taskTypes} {...props} />;\n};\n","import { Row } from 'components/UI';\nimport { Button, Input } from 'antd';\nimport { UserSelect } from 'components/UserSelect';\nimport { TaskTypeSelect } from 'components/TaskTypeSelect';\nimport { useTaskSearchParams } from '../hooks/useTaskSearchParams';\n\nexport const SearchPanel = () => {\n  const [{ name, processorId, typeId }, updateTaskParams] =\n    useTaskSearchParams();\n\n  const handleInputChange = (\n    evt: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    updateTaskParams({ name: evt.target.value });\n  };\n  const handleUserSelectChange = (userId: number | undefined) => {\n    updateTaskParams({ processorId: userId });\n  };\n  const handleTaskTypeSelectChange = (\n    taskTypeId: number | undefined,\n  ) => {\n    updateTaskParams({ typeId: taskTypeId });\n  };\n\n  const handleResetBtnClick = () => {\n    updateTaskParams({\n      typeId: undefined,\n      processorId: undefined,\n      name: undefined,\n    });\n  };\n\n  return (\n    <Row gap marginBottom={4}>\n      <Input\n        placeholder=\"任務名\"\n        value={name}\n        onChange={handleInputChange}\n        style={{ width: '20rem' }}\n      />\n      <UserSelect\n        defaultOptionName=\"經辦人\"\n        value={processorId}\n        onChange={handleUserSelectChange}\n      />\n      <TaskTypeSelect\n        defaultOptionName=\"類型\"\n        value={typeId}\n        onChange={handleTaskTypeSelectChange}\n      />\n      <Button onClick={handleResetBtnClick}>重置篩選器</Button>\n    </Row>\n  );\n};\n","import { Input, Spin } from 'antd';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  addKanbanAsync,\n  selectMutateLoading,\n} from 'redux/entities/kanban.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { useProjectIdInUrl } from '../../../hooks/useProjectIdInUrl';\nimport { KanbanContainer } from './KanbanColumn';\n\nexport const CreateKanban = () => {\n  const [name, setName] = useState('');\n  const isMutateLoading = useSelector(selectMutateLoading);\n  const dispatch = useAppDispatch();\n  const projectId = useProjectIdInUrl();\n\n  const handleSubmitKanban = () => {\n    if (!name || !projectId) {\n      return;\n    }\n    dispatch(addKanbanAsync({ projectId, name }))\n      .unwrap()\n      .catch(() => {\n        setName(name);\n      });\n    setName('');\n  };\n\n  return (\n    <KanbanContainer>\n      {/* {isMutateLoading ? (\n        <Spin size=\"small\" />\n      ) : ( */}\n      <Input\n        placeholder=\"新建看板名稱\"\n        value={name}\n        onChange={(evt) => setName(evt.target.value.trim())}\n        size=\"large\"\n        autoComplete=\"off\"\n        onPressEnter={handleSubmitKanban}\n      />\n      {/* )} */}\n    </KanbanContainer>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  getEpicListAsync,\n  selectEpicList,\n} from 'redux/entities/epic.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { useProjectIdInUrl } from 'hooks/useProjectIdInUrl';\nimport { IdSelect } from './IdSelect';\n\ninterface IEpicSelect extends React.ComponentProps<typeof IdSelect> {}\n\nexport const EpicSelect = (props: IEpicSelect) => {\n  const epicList = useSelector(selectEpicList);\n  const dispatch = useAppDispatch();\n  const projectId = useProjectIdInUrl();\n\n  useEffect(() => {\n    dispatch(\n      getEpicListAsync({\n        projectId,\n      }),\n    );\n  }, [projectId, dispatch]);\n\n  return (\n    <div>\n      <IdSelect options={epicList} {...props} />\n    </div>\n  );\n};\n","import { Button, Col, Form, Input, Modal, Spin } from 'antd';\nimport { useForm } from 'antd/lib/form/Form';\nimport { EpicSelect } from 'components/EpicSelect';\nimport { TaskTypeSelect } from 'components/TaskTypeSelect';\nimport { UserSelect } from 'components/UserSelect';\nimport { useEffect } from 'react';\nimport {\n  deleteTaskAsync,\n  editTaskAsync,\n} from 'redux/entities/task.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { useTaskModal } from '../hooks/useTaskModal';\n\nconst formLayout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\nexport const TaskModal = () => {\n  const { isOpen, editingTask, close, isLoading, mutateLoading } =\n    useTaskModal();\n  const [form] = useForm();\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    editingTask && form.setFieldsValue(editingTask);\n  }, [editingTask, form]);\n\n  const handleClose = () => {\n    close();\n    form.resetFields();\n  };\n\n  const handleOk = () => {\n    dispatch(\n      editTaskAsync({\n        ...editingTask,\n        ...form.getFieldsValue(),\n      }),\n    )\n      .unwrap()\n      .then(() => {\n        handleClose();\n      });\n  };\n\n  const handleDeleteBtnClick = () => {\n    if (!editingTask) return;\n\n    Modal.confirm({\n      title: `確定刪除${editingTask.name}`,\n      okText: '確定',\n      cancelText: '取消',\n      onOk() {\n        return dispatch(deleteTaskAsync(editingTask.id))\n          .unwrap()\n          .then(() => {\n            handleClose();\n          });\n      },\n    });\n  };\n\n  return (\n    <Modal\n      visible={isOpen}\n      title=\"編輯任務\"\n      okText=\"確認\"\n      cancelText=\"取消\"\n      onCancel={handleClose}\n      onOk={handleOk}\n      confirmLoading={mutateLoading}\n    >\n      {isLoading ? (\n        <div style={{ textAlign: 'center' }}>\n          <Spin />\n        </div>\n      ) : (\n        <Form form={form} {...formLayout}>\n          <Form.Item\n            label=\"任務名\"\n            name=\"name\"\n            rules={[{ required: true, message: '請輸入任務名稱' }]}\n          >\n            <Input placeholder=\"輸入任務名\" autoComplete=\"off\" />\n          </Form.Item>\n          <Form.Item label=\"任務組\" name=\"epicId\">\n            <EpicSelect defaultOptionName=\"任務組\" />\n          </Form.Item>\n          <Form.Item label=\"經辦人\" name=\"processorId\">\n            <UserSelect defaultOptionName=\"經辦人\" />\n          </Form.Item>\n          <Form.Item\n            label=\"任務類型\"\n            name=\"typeId\"\n            rules={[{ required: true, message: '請選擇任務類型' }]}\n          >\n            <TaskTypeSelect />\n          </Form.Item>\n          <Col span=\"22\" style={{ textAlign: 'right' }}>\n            <Button onClick={handleDeleteBtnClick} size=\"small\">\n              刪除\n            </Button>\n          </Col>\n        </Form>\n      )}\n    </Modal>\n  );\n};\n","import { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useAppDispatch } from 'redux/store';\nimport { DropResult } from 'react-beautiful-dnd';\nimport {\n  reorderKanbanActionAsync,\n  selectKanbans,\n} from 'redux/entities/kanban.slice';\nimport {\n  reorderTaskActionAsync,\n  selectTasks,\n} from 'redux/entities/task.slice';\nimport { TypeId } from 'types/sort';\n\nexport const useDragEnd = () => {\n  const kanbanList = useSelector(selectKanbans);\n  const dispatch = useAppDispatch();\n  const taskList = useSelector(selectTasks);\n\n  return useCallback(\n    ({ source, destination, type, draggableId }: DropResult) => {\n      // console.log(\n      //   'source',\n      //   source,\n      //   'destination',\n      //   destination,\n      //   'draggableId',\n      //   draggableId,\n      //   'type',\n      //   type,\n      // );\n\n      if (!destination) {\n        return;\n      }\n\n      if (type === TypeId.COLUMN) {\n        const fromId = kanbanList?.[source.index]?.id;\n        const toId = kanbanList?.[destination.index]?.id;\n\n        if (kanbanList.length === 0) {\n          return;\n        }\n\n        if (!fromId || !toId || fromId === toId) {\n          return;\n        }\n\n        const sortType =\n          destination.index > source.index ? 'after' : 'before';\n\n        dispatch(\n          reorderKanbanActionAsync({\n            fromId,\n            referenceId: toId,\n            type: sortType,\n          }),\n        );\n      }\n\n      if (type === TypeId.ROW) {\n        const fromKanbanId = +source.droppableId.split('_')[1];\n        const toKanbanId = +destination.droppableId.split('_')[1];\n\n        if (taskList.length === 0) {\n          return;\n        }\n\n        const fromTask = taskList.filter(\n          (task) => task.kanbanId === fromKanbanId,\n        )[source.index];\n        const toKanbanTasks = taskList.filter(\n          (task) => task.kanbanId === toKanbanId,\n        );\n        const toTask =\n          destination.index === toKanbanTasks.length\n            ? toKanbanTasks[toKanbanTasks.length - 1]\n            : toKanbanTasks[destination.index];\n        // console.log(toKanbanId, toKanbanTasks);\n        // console.log(fromTask, toTask);\n\n        // const toTask = allTasks.filter((task) => task.kanbanId === toKanbanId)[\n        //   destination.index\n        // ];\n        // console.log('useDragEnd', fromTask, toTask);\n\n        if (fromTask?.id === toTask?.id) {\n          return;\n        }\n\n        const sortType =\n          (fromKanbanId === toKanbanId &&\n            destination.index > source.index) ||\n          destination.index === toKanbanTasks.length\n            ? 'after'\n            : 'before';\n\n        if (!fromTask?.id) {\n          return;\n        }\n        dispatch(\n          reorderTaskActionAsync({\n            fromKanbanId,\n            toKanbanId,\n            fromId: fromTask?.id,\n            referenceId: toTask?.id,\n            type: sortType,\n          }),\n        );\n      }\n    },\n    [kanbanList, taskList, dispatch],\n  );\n};\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport {\n  getKanbanListAsync,\n  selectKanbanFetchLoading,\n  selectKanbans,\n} from 'redux/entities/kanban.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { ContentContainer } from 'components/UI';\nimport {\n  getProjectAsync,\n  selectCurrentProject,\n} from 'redux/entities/project.slice';\nimport { KanbanColumn } from './components/KanbanColumn';\nimport { useKanbanSearchParams } from './hooks/useKanbanSearchParams';\nimport { SearchPanel } from './components/SearchPanel';\nimport { CreateKanban } from './components/CreateKanban';\nimport { TaskModal } from './components/TaskModal';\nimport { Spin } from 'antd';\nimport {\n  getTaskListAsync,\n  selectTaskFetchLoading,\n} from 'redux/entities/task.slice';\nimport {\n  Drag,\n  Drop,\n  DropChild,\n  DragChild,\n} from 'components/DragDrop';\nimport { useDragEnd } from './hooks/useDragEnd';\nimport { TypeId } from 'types/sort';\nimport { useTaskSearchParams } from './hooks/useTaskSearchParams';\nimport { useDebounce } from 'hooks/useDebounce';\nimport { selectIsKanbanInitLoading } from 'redux/kanbanScreen.slice';\nimport { IKanban } from 'types/kanban';\nimport { useDocumentTitle } from 'hooks/useDocumentTitle';\n\nexport const KanbanScreen = () => {\n  const dispatch = useAppDispatch();\n  const kanbans = useSelector(selectKanbans);\n  const isKanbanFetchLoading = useSelector(selectKanbanFetchLoading);\n  const isTaskFetchLoading = useSelector(selectTaskFetchLoading);\n  const isKanbanInitLoading = useSelector(selectIsKanbanInitLoading);\n  const currentProject = useSelector(selectCurrentProject);\n  useDocumentTitle('看板列表', true);\n  const { id: projectId } = useParams();\n  const kanbanParams = useKanbanSearchParams();\n  const [taskParams] = useTaskSearchParams();\n  const debounceTaskParams = useDebounce(taskParams);\n  const onDragEnd = useDragEnd();\n  useEffect(() => {\n    projectId && dispatch(getProjectAsync(Number(projectId)));\n  }, [projectId, dispatch]);\n\n  useEffect(() => {\n    dispatch(getKanbanListAsync(kanbanParams));\n  }, [kanbanParams, dispatch]);\n\n  useEffect(() => {\n    dispatch(getTaskListAsync(debounceTaskParams));\n  }, [debounceTaskParams, dispatch]);\n\n  const isKanbanLoading = isKanbanFetchLoading || isTaskFetchLoading;\n\n  const isKanbanType = (value: any): value is IKanban => value?.id;\n  return (\n    <>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <ContentContainer>\n          {isKanbanInitLoading ? (\n            <StyleSpin size=\"large\" />\n          ) : (\n            <>\n              <h1>{currentProject?.name}看板</h1>\n              <SearchPanel />\n              {isKanbanLoading ? (\n                <Spin size=\"large\" />\n              ) : (\n                <ColumnsContainer>\n                  <Drop\n                    type={TypeId.COLUMN}\n                    droppableId=\"kanbanContainer\"\n                    direction=\"horizontal\"\n                  >\n                    <DropChild style={{ display: 'flex' }}>\n                      {kanbans?.map((kanban, index) => (\n                        <Drag\n                          key={kanban.id || `${index}_${kanban.name}`}\n                          draggableId={`kanban_${kanban.id}`}\n                          index={index}\n                        >\n                          <DragChild>\n                            {/* {isKanbanType(kanban) && ( */}\n                            <KanbanColumn kanban={kanban} />\n                            {/* )} */}\n                          </DragChild>\n                        </Drag>\n                      ))}\n                    </DropChild>\n                  </Drop>\n                  <CreateKanban />\n                </ColumnsContainer>\n              )}\n            </>\n          )}\n        </ContentContainer>\n      </DragDropContext>\n      <TaskModal />\n    </>\n  );\n};\n\nconst ColumnsContainer = styled.div`\n  flex: 1;\n  display: flex;\n  overflow-x: auto;\n`;\n\nconst StyleSpin = styled(Spin)`\n  margin-top: 30rem;\n  transform: scale(1.2);\n`;\n","import { useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { IKanban } from 'types/kanban';\n\nexport const useKanbanSearchParams = () => {\n  const { id: projectId } = useParams();\n\n  return useMemo(\n    () => ({\n      projectId: Number(projectId),\n    }),\n    [projectId],\n  );\n};\n","import { Button, Drawer, DrawerProps, Form, Input } from 'antd';\nimport { useSelector } from 'react-redux';\nimport { DrawerContentContainer } from 'components/UI';\nimport { IEpic } from 'types/epic';\nimport { useAppDispatch } from 'redux/store';\nimport {\n  addEpicAsync,\n  selectEpicMutateLoading,\n} from 'redux/entities/epic.slice';\nimport { useProjectIdInUrl } from 'hooks/useProjectIdInUrl';\nimport { useEffect } from 'react';\n\ntype FormValue = Pick<IEpic, 'name'>;\n\nexport const CreateEpicDrawer = ({\n  visible,\n  onClose,\n}: Pick<DrawerProps, 'visible'> & { onClose: () => void }) => {\n  const isMutateLoading = useSelector(selectEpicMutateLoading);\n  const dispatch = useAppDispatch();\n  const projectId = useProjectIdInUrl();\n\n  const [form] = Form.useForm();\n\n  const handleSubmitEpic = (value: FormValue) => {\n    dispatch(\n      addEpicAsync({\n        projectId,\n        name: value.name,\n        start: new Date().getTime(),\n        end: new Date().getTime(),\n      }),\n    )\n      .unwrap()\n      .then(() => {\n        onClose();\n      });\n  };\n\n  useEffect(() => {\n    form.resetFields();\n  }, [visible, form]);\n\n  return (\n    <Drawer\n      forceRender\n      visible={visible}\n      onClose={onClose}\n      width=\"100%\"\n    >\n      <DrawerContentContainer>\n        <h1>創建任務組</h1>\n        <Form\n          form={form}\n          onFinish={handleSubmitEpic}\n          layout=\"vertical\"\n          style={{ width: '40rem' }}\n        >\n          <Form.Item\n            label=\"名稱\"\n            name=\"name\"\n            rules={[{ required: true, message: '請輸入任務組名稱' }]}\n          >\n            <Input\n              placeholder=\"請輸入任務組名稱\"\n              autoComplete=\"off\"\n            />\n          </Form.Item>\n\n          <Form.Item style={{ textAlign: 'right' }}>\n            <Button\n              loading={isMutateLoading}\n              type=\"primary\"\n              htmlType=\"submit\"\n            >\n              提交\n            </Button>\n          </Form.Item>\n        </Form>\n      </DrawerContentContainer>\n    </Drawer>\n  );\n};\n","import { Button, List, Spin, Typography } from 'antd';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { ContentContainer, Row } from 'components/UI';\nimport {\n  getProjectAsync,\n  selectCurrentProject,\n} from 'redux/entities/project.slice';\nimport { useAppDispatch } from 'redux/store';\nimport { useProjectIdInUrl } from 'hooks/useProjectIdInUrl';\nimport {\n  deleteEpicAsync,\n  getEpicListAsync,\n  selectEpicList,\n  selectEpicMutateLoading,\n} from 'redux/entities/epic.slice';\nimport { IEpic } from 'types/epic';\nimport {\n  getTaskListAsync,\n  selectTasks,\n} from 'redux/entities/task.slice';\nimport { Link } from 'react-router-dom';\nimport { CreateEpicDrawer } from './components/CreateEpicDrawer';\n\nexport const EpicScreen = () => {\n  const currentProject = useSelector(selectCurrentProject);\n  const taskList = useSelector(selectTasks);\n  const epicList = useSelector(selectEpicList);\n  const isMutateLoading = useSelector(selectEpicMutateLoading);\n  const dispatch = useAppDispatch();\n  const projectId = useProjectIdInUrl();\n  const [isCreateEpicOpen, setIsCreateEpicOpen] = useState(false);\n\n  useEffect(() => {\n    dispatch(getProjectAsync(projectId));\n  }, [projectId, dispatch]);\n\n  useEffect(() => {\n    dispatch(getEpicListAsync({ projectId }));\n  }, [projectId, dispatch]);\n\n  useEffect(() => {\n    dispatch(getTaskListAsync({ projectId }));\n  }, [projectId, dispatch]);\n\n  const handleCreateBtnClick = () => {\n    setIsCreateEpicOpen(true);\n  };\n\n  const handleDeleteBtnClick = (epicId: number) => {\n    dispatch(deleteEpicAsync(epicId));\n  };\n\n  const renderItem = useCallback(\n    (epic: IEpic) => (\n      <List.Item>\n        <List.Item.Meta\n          title={\n            <Row between>\n              <Typography.Title level={5}>\n                {epic?.name}\n              </Typography.Title>\n              <Button\n                onClick={() => handleDeleteBtnClick(epic.id)}\n                disabled={isMutateLoading}\n                type=\"link\"\n              >\n                刪除\n              </Button>\n            </Row>\n          }\n          description={\n            <div>\n              <div>\n                開始時間 : {''}\n                {epic?.start &&\n                  dayjs(epic?.start).format('YYYY-MM-DD')}\n              </div>\n              <div>\n                結束時間 : {''}\n                {epic?.end && dayjs(epic?.end).format('YYYY-MM-DD')}\n              </div>\n            </div>\n          }\n        />\n        <div>\n          <ul>\n            {taskList\n              ?.filter((task) => task.epicId === epic.id)\n              .map((task, index) => (\n                <li\n                  key={`${index}_${task.epicId}`}\n                  style={{ marginBottom: '.7rem' }}\n                >\n                  <Link\n                    to={`/project/${projectId}/kanban?editingTaskId=${task.id}`}\n                  >\n                    {task.name}\n                  </Link>\n                </li>\n              ))}\n          </ul>\n        </div>\n      </List.Item>\n    ),\n    [projectId, taskList],\n  );\n\n  return (\n    <>\n      <ContentContainer>\n        <Row between marginBottom={2}>\n          <h1>{currentProject && `${currentProject.name}任務組`}</h1>\n          <Button onClick={handleCreateBtnClick} type=\"link\">\n            創建任務組\n          </Button>\n        </Row>\n        <List\n          dataSource={epicList}\n          renderItem={renderItem}\n          itemLayout=\"vertical\"\n          style={{ overflowY: 'scroll', flex: '1' }}\n        />\n      </ContentContainer>\n      <CreateEpicDrawer\n        visible={isCreateEpicOpen}\n        onClose={() => setIsCreateEpicOpen(false)}\n      />\n    </>\n  );\n};\n","import styled from '@emotion/styled';\nimport { useSelector } from 'react-redux';\nimport { List, Popover, Typography } from 'antd';\nimport { selectUsers } from 'redux/entities/user.slice';\n\nexport const UserPopover = () => {\n  const userList = useSelector(selectUsers);\n\n  const content = (\n    <Container>\n      <Typography.Text type=\"secondary\">組員列表</Typography.Text>\n      <List>\n        {userList?.map((user) => (\n          <List.Item key={user.id}>\n            <List.Item.Meta title={user.name} />\n          </List.Item>\n        ))}\n      </List>\n    </Container>\n  );\n  return (\n    <Popover content={content} placement=\"bottom\">\n      <span>組員</span>\n    </Popover>\n  );\n};\n\nconst Container = styled.div`\n  min-width: 30rem;\n`;\n","import styled from '@emotion/styled';\nimport { useSelector } from 'react-redux';\nimport { Button, Divider, List, Popover, Typography } from 'antd';\nimport { selectProjectList } from 'redux/entities/project.slice';\nimport { useProjectDrawer } from 'screens/ProjectList/hooks/useProjectDrawer';\nimport { Link } from 'react-router-dom';\n\nexport const ProjectPopover = () => {\n  const projectList = useSelector(selectProjectList);\n  const pinProjectList = projectList?.filter(\n    (project) => project.pin,\n  );\n  const { open } = useProjectDrawer();\n\n  const content = (\n    <Container>\n      <Typography.Text type=\"secondary\">收藏專案</Typography.Text>\n      <List>\n        {pinProjectList?.map((project) => (\n          <List.Item key={project.id}>\n            <List.Item.Meta\n              title={\n                <Link to={`/project/${project.id}`}>\n                  {project.name}\n                </Link>\n              }\n            />\n          </List.Item>\n        ))}\n      </List>\n      <Divider />\n      <Button onClick={open} type=\"link\">\n        創建專案\n      </Button>\n    </Container>\n  );\n  return (\n    <Popover content={content} placement=\"bottom\">\n      <span>專案</span>\n    </Popover>\n  );\n};\n\nconst Container = styled.div`\n  min-width: 30rem;\n`;\n","import styled from '@emotion/styled';\nimport { Button, Dropdown, Typography, Menu } from 'antd';\nimport { useNavigate } from 'react-router';\nimport { useAuth } from 'hooks/useAuth';\nimport { Row } from './UI';\n\nimport { ReactComponent as SofewareLogo } from 'assets/software-logo.svg';\nimport colors from 'theme/colors';\nimport { UserPopover } from './UserPopover';\nimport { ProjectPopover } from './ProjectPopover';\n\nexport const AuthHeader = () => {\n  const navigate = useNavigate();\n  return (\n    <HeaderContentContainer between>\n      <HeaderLeft gap>\n        <SofewareLogo\n          onClick={() => navigate('/')}\n          width=\"18rem\"\n          color={colors.primary}\n          style={{ cursor: 'pointer' }}\n        />\n        <ProjectPopover />\n        <UserPopover />\n      </HeaderLeft>\n      <HeaderRight>\n        <User />\n      </HeaderRight>\n    </HeaderContentContainer>\n  );\n};\n\nconst User = () => {\n  const { user, logout } = useAuth();\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key=\"logout\">\n            <Button onClick={logout} type=\"link\">\n              登出\n            </Button>\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <Button type=\"link\" onClick={(e) => e.preventDefault()}>\n        Hi, {user?.name}\n      </Button>\n    </Dropdown>\n  );\n};\n\nconst HeaderContentContainer = styled(Row)`\n  width: 100%;\n  padding-left: 3.2rem;\n  padding-right: 3.2rem;\n`;\n\nconst HeaderLeft = styled(Row)`\n  display: flex;\n`;\n\nconst HeaderRight = styled(Row)`\n  display: flex;\n`;\n","import { useEffect } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { AuthHeader } from 'components/Header';\n\nexport const MainLayout = () => {\n  const location = useLocation();\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n    });\n  }, [location.pathname]);\n  return (\n    <Container>\n      <Header>\n        <AuthHeader />\n      </Header>\n      <Main>\n        <Outlet />\n      </Main>\n    </Container>\n  );\n};\n\nexport const headerHeight = '5rem';\n\nconst Container = styled.div`\n  height: 100vh;\n  display: grid;\n  grid-template-rows: ${headerHeight} 1fr;\n`;\n\nconst Header = styled.header`\n  height: ${headerHeight};\n  display: flex;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\n  z-index: 1;\n`;\n\nconst Main = styled.main`\n  display: flex; // 使子內容滿高\n  overflow: hidden;\n`;\n","import { useRoutes, RouteObject, Navigate } from 'react-router-dom';\nimport {\n  ProjectListScreen,\n  ProjectScreen,\n  KanbanScreen,\n  EpicScreen,\n} from 'screens';\nimport { MainLayout } from 'layouts/mainLayout';\n\nconst routes: Array<RouteObject> = [\n  {\n    path: '/',\n    element: <MainLayout />,\n    children: [\n      {\n        path: 'projects',\n        element: <ProjectListScreen />,\n      },\n      {\n        path: 'project/:id',\n        element: <ProjectScreen />,\n        children: [\n          {\n            path: 'kanban',\n            element: <KanbanScreen />,\n          },\n          {\n            path: 'epic',\n            element: <EpicScreen />,\n          },\n          {\n            path: '',\n            element: <Navigate to=\"kanban\" replace />,\n          },\n        ],\n      },\n      {\n        path: '',\n        element: <Navigate to=\"projects\" replace />,\n      },\n    ],\n  },\n  {\n    path: '*',\n    element: <Navigate to=\"/\" replace />,\n  },\n];\n\nexport default function RouteView() {\n  const element = useRoutes(routes);\n  return element;\n}\n","export default __webpack_public_path__ + \"static/media/logo.6c866125.svg\";","export default __webpack_public_path__ + \"static/media/login-left.e74de3ec.svg\";","export default __webpack_public_path__ + \"static/media/login-right.b423a6cf.svg\";","import { Outlet } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { Card } from 'antd';\n\nimport logo from 'assets/logo.svg';\nimport LeftBg from 'assets/login-left.svg';\nimport RightBg from 'assets/login-right.svg';\n\nexport const LoginLayout = () => {\n  return (\n    <Container>\n      <Header />\n      <Background />\n      <ShadowCard>\n        <Outlet />\n      </ShadowCard>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Header = styled.header`\n  width: 100%;\n  height: 10rem;\n  background: url(${logo}) no-repeat;\n  background-size: 8rem;\n  background-position: center;\n`;\n\nconst ShadowCard = styled(Card)`\n  width: 40rem;\n  min-height: 56rem;\n  padding: 3.2rem 4rem;\n  border-radius: 0.3rem;\n  box-sizing: border-box;\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 10px;\n  text-align: center;\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: left bottom, right bottom;\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem),\n    calc(((100vw - 40rem) / 2) - 3.2rem), cover;\n  background-image: url(${LeftBg}), url(${RightBg});\n`;\n","import { useRoutes, RouteObject, Navigate } from 'react-router-dom';\nimport { AuthScreen } from 'screens';\nimport { LoginLayout } from 'layouts/loginLayout';\n\nconst routes: Array<RouteObject> = [\n  {\n    path: '/',\n    element: <LoginLayout />,\n    children: [\n      {\n        path: '',\n        element: <AuthScreen />,\n      },\n    ],\n  },\n  {\n    path: '*',\n    element: <Navigate to=\"/\" replace />,\n  },\n];\n\nexport default function RouteView() {\n  const element = useRoutes(routes);\n  return element;\n}\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { AuthenticatedApp, UnauthenticatedApp } from 'routes/index';\n\nimport { useAuth } from 'hooks/useAuth';\n\nimport './App.css';\n\nfunction App() {\n  const { user } = useAuth();\n  return (\n    <Router>\n      {user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useEffect } from 'react';\n// import { Outlet, Navigate } from 'react-router-dom';\nimport {\n  initUserAsync,\n  selectInitUserState,\n  selectUserError,\n} from 'redux/entities/auth.slice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FullPageLoading } from 'components/UI';\nimport { FetchState } from 'types/common';\n\ninterface IAuthProvider {\n  children?: React.ReactChild;\n}\n\nexport const AuthProvider = ({ children }: IAuthProvider) => {\n  const state = useSelector(selectInitUserState);\n  const error = useSelector(selectUserError);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(initUserAsync());\n  }, [dispatch]);\n\n  if (state === FetchState.IDLE || state === FetchState.LOADING) {\n    return <FullPageLoading />;\n  }\n\n  return <div>{children}</div>;\n};\n","import { Provider } from 'react-redux';\n\nimport { store } from 'redux/store';\nimport { AuthProvider } from './AuthProvider';\n\nexport const AppProvider = ({\n  children,\n}: {\n  children: React.ReactChild;\n}) => {\n  return (\n    <Provider store={store}>\n      <AuthProvider>{children}</AuthProvider>\n    </Provider>\n  );\n};\n","import './wdyr';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { loadServer, DevTools } from 'jira-dev-tool';\nimport { AppProvider } from 'provider';\n\nimport 'antd/dist/antd.less';\n\nloadServer(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <AppProvider>\n        <>\n          <App />\n          {/* <DevTools /> */}\n        </>\n      </AppProvider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}